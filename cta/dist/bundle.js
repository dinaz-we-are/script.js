/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";(()=>{void 0===window.previousPageID&&(window.previousPageID=null),window.pageSpecificListeners||(window.pageSpecificListeners=[]),window.pageSpecificFunctionsMap||(window.pageSpecificFunctionsMap={}),window.jsonPageMap||(window.jsonPageMap={}),window.pageFunctions||(window.pageFunctions={});var e={previousPageID:window.previousPageID,pageSpecificListeners:window.pageSpecificListeners,pageSpecificFunctionsMap:window.pageSpecificFunctionsMap,jsonPageMap:window.jsonPageMap,pageFunctions:window.pageFunctions};window.CTAMap=e,window.pageSpecificFunctionsMap={"665f0ffe1215c488346c8ab3":{name:"home",jsonKey:"665f0ffe1215c488346c8ab3",scripts:["https://cdn.jsdelivr.net/npm/swiper@11.0.0/swiper-bundle.min.js"],styles:[]},"66744f8d053fecc97b97583d":{name:"branding",jsonKey:"66744f8d053fecc97b97583d",scripts:[],styles:[]},"66867d874ba89152319da959":{name:"webDesign",jsonKey:"66867d874ba89152319da959",scripts:["https://cdn.jsdelivr.net/npm/swiper@11.0.0/swiper-bundle.min.js"],styles:[]},"668f9954462592963808160a":{name:"marketing",jsonKey:"668f9954462592963808160a",scripts:[],styles:[]},"668d2fd112a8bfdeeafaf3ab":{name:"womenEmpowerment",jsonKey:"66915e3b438ce5a4581f2015",scripts:[],styles:[]},"669a76c86192d8683021fdef":{name:"contatti",jsonKey:"669a76c86192d8683021fdef",scripts:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"],styles:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css"]},"66915e3b438ce5a4581f2015":{name:"about",jsonKey:"66915e3b438ce5a4581f2015",scripts:[],styles:[]},"66d584f1d3fbec73d80a4bb7":{name:"Proposito",jsonKey:"66d584f1d3fbec73d80a4bb7",scripts:["https://cdn.jsdelivr.net/npm/swiper@11.0.0/swiper-bundle.min.js"],styles:[]},"669fc7cde0b5ab984579b364":{name:"privacy",jsonKey:"",scripts:[],styles:[]},"66a390d69447021f1a7db484":{name:"essential",jsonKey:"",scripts:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"],styles:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css"]},"66a39b4bfe2e62a6a4973146":{name:"professional",jsonKey:"",scripts:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"],styles:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css"]},"66a39c1dd1d0b5d470d77eac":{name:"custom",jsonKey:"",scripts:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"],styles:["https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css"]},"66dade8f8f33db9a444e4160":{name:"blogPost",jsonKey:"",scripts:["https://cdn.jsdelivr.net/npm/swiper@11.0.0/swiper-bundle.min.js"],styles:[]},"66dac73a5d98bf188436e598":{name:"blogCategory",jsonKey:"",scripts:["https://cdn.jsdelivr.net/npm/swiper@11.0.0/swiper-bundle.min.js"],styles:[]},"66db1c6723125d80453701fa":{name:"blogTag",jsonKey:"",scripts:["https://cdn.jsdelivr.net/npm/swiper@11.0.0/swiper-bundle.min.js"],styles:[]},"669fb3e0600cede93cc38166":{name:"quattroZeroQuattro",jsonKey:"",scripts:[],styles:[]},"66f3d3297e30e8efc28593a6":{name:"loginPage",jsonKey:"",scripts:[],styles:[]},"66f3d3297e30e8efc2859421":{name:"registrazione",jsonKey:"",scripts:[],styles:[]},"66f3d3297e30e8efc285944b":{name:"resetPassword",jsonKey:"",scripts:[],styles:[]},"66f3d3297e30e8efc2859461":{name:"updatePassword",jsonKey:"",scripts:[],styles:[]},"67af596455154a4f0335f5e0":{name:"verify",jsonKey:"",scripts:[],styles:[]},"67af7c07d4dd5a54a5116da1":{name:"userPendingApproval",jsonKey:"",scripts:[],styles:[]},"66f3c6fe1fbe616545b964bd":{name:"dashboard",jsonKey:"",scripts:[],styles:[]},"66f3c74d69405c8d610cb8ed":{name:"assessment",jsonKey:"",scripts:[],styles:[]}},window.jsonPageMap={"665f0ffe1215c488346c8ab3":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "url": "https://www.ctastudio.it/",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n               "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it/"\n            },\n            {\n              "@type": "ListItem",\n              "position": 2,\n              "name": "CTA Studio: Branding, Visual e Logo Design emozionale",\n              "item": "https://www.ctastudio.it/branding-e-graphic-design"\n            },\n            {\n              "@type": "ListItem",\n              "position": 3,\n              "name": "CTA Studio: Web Design e Sviluppo per Esperienze Digitali Uniche",\n              "item": "https://www.ctastudio.it/ui-ux-design"\n            },\n            {\n              "@type": "ListItem",\n              "position": 4,\n              "name": "CTA Studio: Web Booster, SEO e Strategie Digitali",\n              "item": "https://www.ctastudio.it/web-marketing"\n            },\n            {\n              "@type": "ListItem",\n              "position": 5,\n              "name": "CTA Studio: Contatti - Raccontaci la tua idea",\n              "item": "https://www.ctastudio.it/contatti"\n            },\n            {\n              "@type": "ListItem",\n              "position": 6,\n              "name": "CTA Studio: Il nostro Studio, la nostra visione | CALL TO ACTION",\n              "item": "https://www.ctastudio.it/about"\n            },\n            {\n              "@type": "ListItem",\n              "position": 7,\n              "name": "CTA Studio: Portfolio - Showcase di chi ci ha scelto",\n              "item": "https://www.ctastudio.it/portfolio"\n            },\n       {\n              "@type": "ListItem",\n              "position": 8,\n              "name": "PROPOSITO - il Web Magazine per ispirare, crescere e realizzare",\n              "item": "www.ctastudio.it/proposito/home"\n            },\n          ]\n        }\n      }'},"66744f8d053fecc97b97583d":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n              "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it"\n            },\n            {\n              "@type": "ListItem",\n              "position": 2,\n              "name": "CTA Studio: Branding, Visual e Logo Design emozionale",\n              "item": "https://www.ctastudio.it/branding-e-graphic-design"\n            }\n          ]\n        }\n      }'},"66867d874ba89152319da959":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n        "@type": "BreadcrumbList",\n        "itemListElement": [\n          {\n            "@type": "ListItem",\n            "position": 1,\n            "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n            "item": "https://www.ctastudio.it"\n          },\n          {\n            "@type": "ListItem",\n            "position": 3,\n            "name": "CTA Studio: Web Design e Sviluppo per Esperienze Digitali Uniche",\n            "item": "https://www.ctastudio.it/ui-ux-design"\n          }\n        ]\n      }\n      }'},"668f9954462592963808160a":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n              "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it"\n            },\n            {\n              "@type": "ListItem",\n              "position": 4,\n              "name": "CTA Studio: Web Booster, SEO e Strategie Digitali",\n              "item": "https://www.ctastudio.it/web-marketing"\n            }\n          ]\n        }\n      }'},"669a76c86192d8683021fdef":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n              "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it"\n            },\n            {\n              "@type": "ListItem",\n              "position": 5,\n              "name": "CTA Studio: Contatti - Raccontaci la tua idea",\n              "item": "https://www.ctastudio.it/contatti"\n            }\n          ]\n        }\n      }'},"66915e3b438ce5a4581f2015":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n              "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it"\n            },\n            {\n              "@type": "ListItem",\n              "position": 6,\n              "name": "CTA Studio: Il nostro Studio, la nostra visione",\n              "item": "https://www.ctastudio.it/about"\n            }\n          ]\n        }\n      }'},"674715fcde4d87ee1fb16708":{active:!1,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n              "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it"\n            },\n            {\n              "@type": "ListItem",\n              "position": 7,\n              "name": "CTA Studio: Portfolio - Showcase di chi ci ha scelto",\n              "item": "https://www.ctastudio.it/portfolio"\n            }\n          ]\n        }\n      }'},"66d584f1d3fbec73d80a4bb7":{active:!0,json:'{\n        "@context": "https://schema.org",\n        "@type": "WebPage",\n        "breadcrumb": {\n          "@type": "BreadcrumbList",\n          "itemListElement": [\n            {\n              "@type": "ListItem",\n              "position": 1,\n              "name": "CTA Studio - Call to Action: Design e Siti Web per Umane Emozioni.",\n              "item": "https://www.ctastudio.it"\n            },\n            {\n              "@type": "ListItem",\n              "position": 8,\n              "name": "PROPOSITO - il Web Magazine per ispirare, crescere e realizzare",\n              "item": "www.ctastudio.it/proposito/home"\n            }\n          ]\n        }\n      }'}},window.pageFunctions={home:{execute:function(){isBarbaTransition?transitionOnLoadHeroDefault():transitionOnLoadHero(),window.menuNavigation.animateUSPLinks(),window.matchMedia("(min-width: 992px)").matches?(window.menuNavigation.handleLinkMenuHover(),requestIdleCallback((function(){ctaStickyTransition.reset()}))):requestIdleCallback((function(){showcasePanelsScrollMobile(),showcaseTextContentMobile()})),requestIdleCallback((function(){createScrollTriggerScrollWrapper(),createScrollTriggerHero(),ctaAnimations(),serviceWrapper()})),setTimeout((function(){info(),window.linkManager.init(),propositoAnimation.btnReadAnimation(),propositoAnimation.btnCategoryAnimation(),propositoAnimation.initializeSwiper(),propositoHomePage(),studioAnimations()}),500)},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},branding:{execute:function(){isBarbaTransition||defaultEnterTransition(),animationPageEnterDesign(),pageServiceScrollTriggerDesign(),requestIdleCallback((function(){videoPause(),logoAnima(),toggleFaq(),servicePageWrapper(),ctaAnimations(),info()}))},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},webDesign:{execute:function(){isBarbaTransition||defaultEnterTransition(),animationPageEnterWebDesign(),pageServiceScrollTriggerWeb(),requestIdleCallback((function(){videoPause(),swiperUI(),logoAnima(),toggleFaq(),servicePageWrapper(),ctaAnimations(),info()}))},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},marketing:{execute:function(){isBarbaTransition||defaultEnterTransition(),animationPageEnterMarketing(),pageServiceScrollTriggerSeo(),requestIdleCallback((function(){changePrice(),toggleServiceSection(),toggleButtonAnimation(),toggleFaq(),secondSection(!1),ctaAnimations(),info()}))},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},womenEmpowerment:{execute:function(){isBarbaTransition||defaultEnterTransition(),animationPageEnterWomen(),videoPause(),pageServiceScrollTriggerWomen(),requestIdleCallback((function(){toggleFaq(),servicePageWrapper(),ctaAnimations(),info()}))},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},about:{execute:function(){isBarbaTransition||defaultEnterTransition(),animationPageEnterAbout(),startInfiniteMarquee(),requestIdleCallback((function(){serviceWrapper(),ctaAnimations(),studioAnimations(),pageServiceScrollTriggerAbout(),info()}))},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},contatti:{execute:function(){isBarbaTransition||defaultEnterTransition(),MultiStepForm.init(),window.AppGeneralForms.init(),calendar()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},essential:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),window.AppGeneralForms.init(),calendar()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},professional:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),window.AppGeneralForms.init(),calendar()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},custom:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),window.AppGeneralForms.init(),calendar()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},Proposito:{execute:function(){isBarbaTransition||defaultEnterTransition(),window.linkManager.init(),propositoAnimation.btnReadAnimation(),propositoAnimation.NewsLetterAnimation(),propositoAnimation.btnCategoryAnimation(),propositoAnimation.thumbnailImageAnimation(),propositoAnimation.postEntry(),propositoAnimation.initializeSwiper(),startMarquee(),window.AppGeneralForms.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},privacy:{execute:function(){isBarbaTransition||defaultEnterTransition(),toggleFaq()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},blogPost:{execute:function(){blogTransition(),window.linkManager.init(),propositoAnimation.initializeSwiper(),propositoAnimation.categoryLabel(),propositoAnimation.tagLinkAnimation(),propositoAnimation.btnReadAnimation(),propositoAnimation.NewsLetterAnimation(),propositoAnimation.btnCategoryAnimation(),window.AppGeneralForms.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},blogCategory:{execute:function(){blogTransition(),window.linkManager.init(),propositoAnimation.initializeSwiper(),propositoAnimation.categoryLabel(),propositoAnimation.tagLinkAnimation(),propositoAnimation.btnReadAnimation(),propositoAnimation.NewsLetterAnimation(),propositoAnimation.btnCategoryAnimation(),window.AppGeneralForms.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},blogTag:{execute:function(){blogTransition(),window.linkManager.init(),propositoAnimation.initializeSwiper(),propositoAnimation.categoryLabel(),propositoAnimation.tagLinkAnimation(),propositoAnimation.btnReadAnimation(),propositoAnimation.NewsLetterAnimation(),propositoAnimation.btnCategoryAnimation(),window.AppGeneralForms.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},quattroZeroQuattro:{execute:function(){defaultSimpleTransition()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},loginPage:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),FirebaseAppManager.initLoginForm(),window.AppPasswordToggleLogin.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},registrazione:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),window.AppForms.init(),window.AppPasswordToggle.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},resetPassword:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),window.AppResetPassword.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},updatePassword:{execute:function(){isBarbaTransition||defaultSimpleTransition(),MultiStepForm.init(),window.AppUpdatePassword.init(),window.AppPasswordToggle.init()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},verify:{execute:function(){isBarbaTransition||defaultSimpleTransition()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},userPendingApproval:{execute:function(){isBarbaTransition||defaultSimpleTransition()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},dashboard:{execute:function(){isBarbaTransition||defaultSimpleTransition(),DashboardManager.init(),toggleFaq()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}},assessment:{execute:function(){isBarbaTransition||defaultSimpleTransition(),AssessmentManager.init(),MultiStepForm.init(),window.AppAssessmentForms.init(),toggleFaq()},cleanup:function(){cleanUpTriggers(),cleanUpPageListeners()}}}})(),(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){t=function(){return i};var n,i={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(n){p=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,o=Object.create(r.prototype),s=new C(i||[]);return a(o,"_invoke",{value:P(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=d;var m="suspendedStart",g="suspendedYield",w="executing",h="completed",b={};function v(){}function y(){}function A(){}var S={};p(S,c,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(F([])));x&&x!==r&&o.call(x,c)&&(S=x);var T=A.prototype=v.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function k(t,n){function i(r,a,s,c){var l=f(t[r],t,a);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==e(p)&&o.call(p,"__await")?n.resolve(p.__await).then((function(e){i("next",e,s,c)}),(function(e){i("throw",e,s,c)})):n.resolve(p).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,c)}))}c(l.arg)}var r;a(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,r){i(e,t,n,r)}))}return r=r?r.then(o,o):o()}})}function P(e,t,i){var r=m;return function(o,a){if(r===w)throw Error("Generator is already running");if(r===h){if("throw"===o)throw a;return{value:n,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=I(s,i);if(c){if(c===b)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===m)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var l=f(e,t,i);if("normal"===l.type){if(r=i.done?h:g,l.arg===b)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=h,i.method="throw",i.arg=l.arg)}}}function I(e,t){var i=t.method,r=e.iterator[i];if(r===n)return t.delegate=null,"throw"===i&&e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,b;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function F(t){if(t||""===t){var i=t[c];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(e(t)+" is not iterable")}return y.prototype=A,a(T,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:y,configurable:!0}),y.displayName=p(A,u,"GeneratorFunction"),i.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,p(e,u,"GeneratorFunction")),e.prototype=Object.create(T),e},i.awrap=function(e){return{__await:e}},E(k.prototype),p(k.prototype,l,(function(){return this})),i.AsyncIterator=k,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new k(d(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(T),p(T,u,"Generator"),p(T,c,(function(){return this})),p(T,"toString",(function(){return"[object Generator]"})),i.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},i.values=F,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(U),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),U(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;U(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:F(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),b}},i}function n(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}function i(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var a=e.apply(t,i);function s(e){n(a,r,o,s,c,"next",e)}function c(e){n(a,r,o,s,c,"throw",e)}s(void 0)}))}}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var a={cleanUpTriggers:function(){ScrollTrigger.getAll().forEach((function(e){return e.kill()}))},cleanUpPageListeners:function(){window.pageSpecificListeners&&Array.isArray(window.pageSpecificListeners)&&window.pageSpecificListeners.forEach((function(e){var t=e.element,n=e.event,i=e.handler;t&&t.removeEventListener(n,i)})),window.pageSpecificListeners=[]},handlePageSpecificActions:function(){var e=document.documentElement.getAttribute("data-wf-page"),t=window.pageSpecificFunctionsMap[e];if(t){if(window.previousPageID&&window.pageSpecificFunctionsMap[window.previousPageID]){var n,i=window.pageSpecificFunctionsMap[window.previousPageID].name;null!==(n=window.pageFunctions[i])&&void 0!==n&&n.cleanup&&window.pageFunctions[i].cleanup()}var r=window.jsonPageMap[t.jsonKey];if(null!=r&&r.active&&r.json){document.querySelectorAll('script[type="application/ld+json"]').forEach((function(e){return e.remove()}));var o=document.createElement("script");o.type="application/ld+json",o.textContent=r.json,document.head.appendChild(o)}var a=window.pageFunctions[t.name];t.scripts||t.styles?s(t).then((function(){null==a||a.execute(),window.previousPageID=e})).catch((function(e){console.error("Errore durante il caricamento delle risorse per: ".concat(t.name),e)})):(console.log("Nessuna risorsa aggiuntiva per: ".concat(t.name)),console.log("Eseguendo funzione specifica per: ".concat(t.name)),null==a||a.execute(),window.previousPageID=e)}else console.warn("Nessuna mappatura trovata per data-wf-page: ".concat(e))},loadResources:s,loadCSS:c,updatePageMetaAndInteractions:function(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelector("title");n&&(document.title=n.textContent);var i=t.documentElement.getAttribute("data-wf-page");i&&document.documentElement.setAttribute("data-wf-page",i);var r=t.querySelector('meta[name="description"]');r&&l("description",r.content),["og:title","og:description","og:image","twitter:title","twitter:description","twitter:image"].forEach((function(e){var n;l(e,null===(n=t.querySelector('meta[property="'.concat(e,'"]')))||void 0===n?void 0:n.content)})),u(),p()},updateOrCreateMeta:l,restartWebflowInteractions:u,trackPageView:p,blockScroll:function(){g?g.classList.add("stop"):console.error("Elemento .cta-wrapper non trovato")},unblockScroll:function(){g?g.classList.remove("stop"):console.error("Elemento .cta-wrapper non trovato")},saveScrollPosition:b,restoreScrollPosition:v,handleBlockScroll:y,handleUnblockScroll:A,handleToggleScroll:S,initializeScrollControlButtons:function(){var e=document.querySelectorAll("[data-block-scroll]"),t=document.querySelectorAll("[data-unblock-scroll]"),n=document.querySelectorAll("[data-toggle-scroll]");e.forEach((function(e){return e.addEventListener("click",y)})),t.forEach((function(e){return e.addEventListener("click",A)})),n.forEach((function(e){return e.addEventListener("click",S)}))}};function s(e){var t=(e.scripts||[]).map((function(e){return loadScript(e)})),n=(e.styles||[]).map((function(e){return c(e)}));return Promise.all([].concat(r(t),r(n)))}function c(e){return new Promise((function(t,n){if(document.querySelector('link[href="'.concat(e,'"]')))console.log("CSS già presente: ".concat(e)),t();else{var i=document.createElement("link");i.rel="stylesheet",i.href=e,i.onload=function(){t()},i.onerror=function(t){console.error("Errore nel caricamento del CSS: ".concat(e)),n(t)},document.head.appendChild(i)}}))}function l(e,t){if(t){var n=document.querySelector('meta[name="'.concat(e,'"], meta[property="').concat(e,'"]'));n?n.setAttribute("content",t):(n=document.createElement("meta"),e.startsWith("og:")||e.startsWith("twitter:")?n.setAttribute("property",e):n.setAttribute("name",e),n.setAttribute("content",t),document.head.appendChild(n))}}function u(){try{"undefined"!=typeof Webflow?(Webflow.destroy(),setTimeout((function(){requestAnimationFrame((function(){Webflow.ready(),Webflow.require&&(Webflow.require("ix2").init(),menuNavigation.handleActiveLink())}))}),100)):console.warn("Webflow non è definito.")}catch(e){console.error("Errore nel riavvio delle interazioni Webflow:",e)}}function p(){window.dataLayer?window.dataLayer.push({event:"page_view",page_path:window.location.pathname,page_title:document.title}):console.warn("Data Layer non è disponibile.")}Object.keys(a).forEach((function(e){window[e]=a[e]})),window.lenisInstance,window.FirebaseAppManager,window.DashboardManager,window.AssessmentManager;var d,f,m,g=document.querySelector(".page-wrapper"),w={top:0,left:0},h=document.querySelectorAll("[data-scroll-container]");function b(){w.top=window.scrollY||document.documentElement.scrollTop,w.left=window.scrollX||document.documentElement.scrollLeft}function v(){window.scrollTo(w.left,w.top)}function y(){b(),document.documentElement.classList.add("no-scroll"),h.forEach((function(e){e.classList.add("scrollable")})),lenisInstance.stop()}function A(){v(),document.documentElement.classList.remove("no-scroll"),h.forEach((function(e){e.classList.remove("scrollable")})),lenisInstance.start()}function S(){document.documentElement.classList.contains("no-scroll")?A():y()}window.lenisInstance=window.lenisInstance||{instance:null,isStopped:!1,initialize:function(){var e=this;this.instance&&(this.instance.destroy(),this.instance=null),this.instance=new Lenis({restoreScrollPosition:!1,duration:2,orientation:"both",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:2,easing:function(e){return Math.min(1,1.001-Math.pow(2,-10*e))},infinite:!1,prevent:function(e){return"calendar"===e.id}}),this.instance.on("scroll",ScrollTrigger.update),gsap.ticker.add((function(t){return e.instance.raf(1e3*t)})),gsap.ticker.lagSmoothing(0),document.addEventListener("wheel",(function(e){e.target.closest("[data-lenis-prevent]")&&e.stopPropagation()}),{passive:!1}),document.addEventListener("touchmove",(function(e){e.target.closest("[data-lenis-prevent]")&&e.stopPropagation()}),{passive:!1}),setTimeout((function(){e.update()}),300)},stop:function(){this.instance&&!this.isStopped&&(this.instance.stop(),this.isStopped=!0)},start:function(){this.instance&&this.isStopped&&(this.instance.start(),this.isStopped=!1)},update:function(){"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh(),this.instance&&this.instance.raf(performance.now())},scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.instance?this.instance.scrollTo(e,t):window.scrollTo({top:e,left:0,behavior:t.immediate?"instant":"smooth"})},pauseForCalendar:function(){this.instance&&!this.isPausedForCalendar&&(this.instance.stop(),this.isPausedForCalendar=!0)},resumeAfterCalendar:function(){this.instance&&this.isPausedForCalendar&&(this.instance.start(),this.isPausedForCalendar=!1)}},window.FirebaseAppManager=window.FirebaseAppManager||{configUrl:"https://us-central1-webflow-project---calltoaction.cloudfunctions.net/getFirebaseConfig",firebaseApp:null,auth:null,database:null,userStatus:{loggedIn:null,approved:null},init:(m=i(t().mark((function e(){var n,r,o=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadFirebaseScripts();case 3:if("undefined"!=typeof firebase){e.next=5;break}throw new Error("Firebase non è stato caricato correttamente!");case 5:return e.next=7,fetch(this.configUrl);case 7:return n=e.sent,e.next=10,n.json();case 10:r=e.sent,r=this.cleanFirebaseConfig(r),firebase.apps.length?this.firebaseApp=firebase.app():this.firebaseApp=firebase.initializeApp(r),this.auth=firebase.auth(),this.database=firebase.database(),firebase.auth().onAuthStateChanged(function(){var e=i(t().mark((function e(n){var i,r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.userStatus.loggedIn=!!n,o.updateLoginLinks(),o.updateDashboardLinks(),!n){e.next=16;break}return e.next=6,n.getIdToken();case 6:return i=e.sent,e.next=9,fetch("https://us-central1-webflow-project---calltoaction.cloudfunctions.net/getUserCmsPage",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({uid:n.uid,token:i})});case 9:return r=e.sent,e.next=12,r.json();case 12:a=e.sent,o.userStatus.approved=!(!a.success||!a.approved),e.next=17;break;case 16:o.userStatus.approved=!1;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("❌ Errore durante l'inizializzazione di Firebase:",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(){return m.apply(this,arguments)}),cleanFirebaseConfig:function(e){return Object.keys(e).forEach((function(t){"string"==typeof e[t]&&(e[t]=e[t].replace(/[\r\n]/g,"").trim())})),e},loadFirebaseScripts:(f=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,loadScript("https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js");case 3:return e.next=5,loadScript("https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js");case 5:return e.next=7,loadScript("https://www.gstatic.com/firebasejs/10.0.0/firebase-database-compat.js");case 7:return e.next=9,new Promise((function(e){var t=setInterval((function(){"undefined"!=typeof firebase&&(clearInterval(t),e())}),100)}));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error("❌ Errore nel caricamento degli script Firebase:",e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(){return f.apply(this,arguments)}),updateLoginLinks:function(){firebase.auth().onAuthStateChanged((function(e){document.querySelectorAll("[log-link]").forEach((function(t){e?(t.textContent="Logout",t.href="#",t.onclick=function(e){e.preventDefault(),FirebaseAppManager.logoutUser()}):(t.textContent="Login",t.href="/log-in",t.onclick=null)}))}))},updateDashboardLinks:(d=i(t().mark((function e(){var n,i,r,o,a,s,c,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=firebase.auth().currentUser,(i=document.querySelectorAll("[dashboard-link]")).forEach((function(e){return e.href="/user-pending-approval"})),n){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.getIdToken();case 8:if(r=e.sent){e.next=12;break}return console.error("❌ Token non generato, impossibile procedere."),e.abrupt("return");case 12:return e.next=14,fetch("https://us-central1-webflow-project---calltoaction.cloudfunctions.net/getUserCmsPage",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({uid:n.uid,token:r})});case 14:if((o=e.sent).ok){e.next=23;break}return e.t0=Error,e.t1="❌ Errore HTTP: ".concat(o.status," - "),e.next=20,o.text();case 20:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 23:return e.next=25,o.json();case 25:null!=(a=e.sent)&&a.cmsPage&&a.approved&&(s=window.location.hostname,c=s.includes("webflow.io")?"https://ctastudio.webflow.io":"https://www.ctastudio.it",l="".concat(c).concat(a.cmsPage.toLowerCase()),i.forEach((function(e){return e.href=l}))),e.next=32;break;case 29:e.prev=29,e.t4=e.catch(0),console.error("❌ Errore in updateDashboardLinks:",e.t4);case 32:case"end":return e.stop()}}),e,null,[[0,29]])}))),function(){return d.apply(this,arguments)}),initLoginForm:function(){var e=document.getElementById("login-form");e&&(e.removeAttribute("action"),e.setAttribute("method","POST"),e.addEventListener("submit",function(){var e=i(t().mark((function e(n){var i,r,o,a,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),n.stopImmediatePropagation(),i=document.getElementById("loginEmail").value.trim(),r=document.getElementById("loginPassword").value.trim(),o=document.getElementById("login-wrapper"),a=document.querySelector(".w-form-done"),s=document.querySelector(".w-form-fail"),c=document.querySelector("[dashboard-link]"),s&&(s.style.display="none"),a&&(a.style.display="none"),i&&r){e.next=13;break}return s&&(s.style.display="block"),e.abrupt("return");case 13:return e.prev=13,e.next=16,firebase.auth().signInWithEmailAndPassword(i,r);case 16:return e.sent.user,e.next=20,FirebaseAppManager.updateDashboardLinks();case 20:o&&(o.style.display="none"),a&&(a.style.display="block"),c&&(c.style.display="block"),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(13),console.error("❌ Errore di login:",e.t0),s&&(s.style.display="block");case 29:case"end":return e.stop()}}),e,null,[[13,25]])})));return function(t){return e.apply(this,arguments)}}()))},logoutUser:function(){firebase.auth().signOut().then((function(){console.log("👋 Logout effettuato con successo!"),FirebaseAppManager.updateLoginLinks(),window.location.reload()})).catch((function(e){console.error("Errore durante il logout:",e)}))}},window.DashboardManager=window.DashboardManager||{initialized:!1,init:function(){var e=this;return i(t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.waitForFirebase();case 3:return t.next=5,e.checkUserAccess();case 5:return t.next=7,e.updateAssessmentStatusUI();case 7:e.updateLogoutButton(),e.initAssessmentPanelHandlers(),e.initialized=!0,console.log("✅ CTA DashboardManager"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("❌ Errore durante l'inizializzazione della Dashboard:",t.t0);case 16:case"end":return t.stop()}}),n,null,[[0,13]])})))()},waitForFirebase:function(){return i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=setInterval((function(){window.FirebaseAppManager&&FirebaseAppManager.auth&&null!==FirebaseAppManager.userStatus.loggedIn&&null!==FirebaseAppManager.userStatus.approved&&(clearInterval(t),e())}),100)})));case 1:case"end":return e.stop()}}),e)})))()},checkUserAccess:function(){var e=this;return i(t().mark((function n(){var i,r,o,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=FirebaseAppManager.userStatus,r=i.loggedIn,o=i.approved,a=0;case 2:if(null!==r&&null!==o||!(a<20)){t.next=8;break}return t.next=5,new Promise((function(e){return setTimeout(e,100)}));case 5:a++,t.next=2;break;case 8:if(r){t.next=12;break}throw console.warn("🚫 Utente non autenticato, reindirizzamento a Login..."),e.showAccessDenied(!0),new Error("Utente non autenticato.");case 12:if(o){t.next=16;break}throw console.warn(" Utente non approvato, reindirizzamento..."),e.showAccessDenied(),new Error("Utente non approvato.");case 16:e.showAccessApproved();case 17:case"end":return t.stop()}}),n)})))()},showAccessApproved:function(){var e=document.getElementById("protect-page-cover"),t=document.getElementById("waiting-wrap"),n=document.getElementById("waiting-wrap-approved");e&&t&&n&&(gsap.set(n,{display:"flex"}),gsap.timeline().to(t,{y:"100%",duration:.8,ease:"power2.out"}).to(e,{opacity:0,duration:.6,ease:"power2.out",onComplete:function(){return gsap.set(e,{display:"none"})}},"+=0.4"))},showAccessDenied:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById("protect-page-cover"),n=document.getElementById("waiting-wrap"),i=document.getElementById("waiting-wrap-denied");t&&n&&i&&(gsap.set(i,{display:"flex"}),gsap.to(n,{y:"100%",duration:.8,ease:"power2.out",onComplete:function(){var t=e?"/log-in":"/user-pending-approval";setTimeout((function(){window.location.href=t}),1e3)}}))},updateAssessmentStatusUI:function(){return i(t().mark((function e(){var n,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=firebase.auth().currentUser){e.next=4;break}return e.abrupt("return");case 4:i=n.uid,firebase.database().ref("/userRegistrations/".concat(i,"/assessments")).once("value",(function(e){var t=e.val();[{id:"1-Assessment-Branding-Valori",divId:"assessment-1"},{id:"2-Assessment-Personalita",divId:"assessment-2"},{id:"3-Assessment-Target-Brand",divId:"assessment-3"},{id:"4-Assessment-Visual-Identity",divId:"assessment-4"},{id:"5-Assessment-User-Persona",divId:"assessment-5"}].forEach((function(e){var n,i=e.id,r=e.divId,o=document.getElementById(r);o&&(t&&null!==(n=t[i])&&void 0!==n&&n.completed?(gsap.set(o,{display:"flex"}),gsap.to(o,{opacity:1,duration:.5}),o.classList.add("completed"),o.style.pointerEvents="auto"):(gsap.to(o,{opacity:0,duration:.3,onComplete:function(){return gsap.set(o,{display:"none"})}}),o.classList.remove("completed"),o.style.pointerEvents="auto"))}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(" Errore nell'aggiornamento della UI degli assessment:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},updateLogoutButton:function(){var e=document.getElementById("logout-button");e&&(e.onclick=i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,firebase.auth().signOut();case 3:console.log("👋 Logout effettuato con successo!"),window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("❌ Errore durante il logout:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))))},initAssessmentResetButtons:function(){for(var e=this,n=function(){var n=document.getElementById("reset-assessment-".concat(r)),o="".concat(r,"-Assessment-").concat(e.getAssessmentName(r));if(n){var a=function(){var r=i(t().mark((function i(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.disabled=!0,t.next=3,e.resetSingleAssessment(o);case 3:n.disabled=!1;case 4:case"end":return t.stop()}}),i)})));return function(){return r.apply(this,arguments)}}();n.addEventListener("click",a),window.pageSpecificListeners.push({element:n,event:"click",handler:a})}},r=1;r<=5;r++)n()},getAssessmentName:function(e){return["Branding-Valori","Personalita","Target-Brand","Visual-Identity","User-Persona"][e-1]||"Unknown"},resetSingleAssessment:function(e){var n=this;return i(t().mark((function i(){var r,o,a,s,c;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=firebase.auth().currentUser){t.next=5;break}return console.error("❌ Utente non autenticato."),t.abrupt("return");case 5:return o=r.uid,t.next=8,fetch("https://us-central1-webflow-project---calltoaction.cloudfunctions.net/resetSingleAssessmentStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientpageId:o,assessment:e})});case 8:return a=t.sent,t.next=11,a.json();case 11:s=t.sent,a.ok&&s.success?(console.log("✅ Assessment ".concat(e," resettato con successo.")),n.updateSingleAssessmentUI(e,!1),(c=document.querySelector("#assessment-".concat(e.split("-")[0]," .reset-assessment-panel")))&&n.closeResetPanel(c)):console.error("❌ Errore nel reset dell'assessment:",s.error),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("❌ Errore nella richiesta di reset:",t.t0);case 18:case"end":return t.stop()}}),i,null,[[0,15]])})))()},updateSingleAssessmentUI:function(e,t){var n="assessment-".concat(e.split("-")[0]),i=document.getElementById(n);i&&(t?(gsap.set(i,{display:"flex"}),gsap.to(i,{opacity:1,duration:.5}),i.classList.add("completed"),i.style.pointerEvents="auto"):(gsap.to(i,{opacity:0,duration:.3,onComplete:function(){return gsap.set(i,{display:"none"})}}),i.classList.remove("completed"),i.style.pointerEvents="auto"))},initAssessmentPanelHandlers:function(){var e=this,t=document.querySelectorAll(".link-assessment-dashboard-cover");t.length?t.forEach((function(t){var n=t.id,i=t.querySelector(".link-menu-assessment"),r=t.querySelector(".reset-assessment-panel"),o=r.querySelector(".cancel-reset-button");if(i&&r){var a=function(){gsap.to(r,{scale:1,duration:.3,ease:"power2.out"}),e.initAssessmentResetButtons()};if(i.addEventListener("click",a),window.pageSpecificListeners.push({element:i,event:"click",handler:a}),o){var s=function(){e.closeResetPanel(r)};o.addEventListener("click",s),window.pageSpecificListeners.push({element:o,event:"click",handler:s})}else console.warn("⚠️ Nessun pulsante di annullamento trovato")}else console.error("Problema con la selezione per ".concat(n))})):console.warn("🚫 Nessun elemento degli assessment trovato.")},closeResetPanel:function(e){gsap.to(e,{scale:0,duration:.3,ease:"power2.in"})}},window.AssessmentManager=window.AssessmentManager||{initialized:!1,init:function(){var e=this;return i(t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.waitForFirebase();case 3:return t.next=5,e.checkUserAccess();case 5:return t.next=7,e.updateDashboardLinks();case 7:e.initialized=!0,console.log("✅ CTA AssessmentManager inizializzato con successo."),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("❌ Errore durante l'inizializzazione di AssessmentManager:",t.t0);case 14:case"end":return t.stop()}}),n,null,[[0,11]])})))()},waitForFirebase:function(){return i(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=setInterval((function(){window.FirebaseAppManager&&FirebaseAppManager.auth&&null!==FirebaseAppManager.userStatus.loggedIn&&null!==FirebaseAppManager.userStatus.approved&&(clearInterval(t),e())}),100)})));case 1:case"end":return e.stop()}}),e)})))()},checkUserAccess:function(){var e=this;return i(t().mark((function n(){var i,r,o,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=FirebaseAppManager.userStatus,r=i.loggedIn,o=i.approved,a=0;case 2:if(null!==r&&null!==o||!(a<20)){t.next=8;break}return t.next=5,new Promise((function(e){return setTimeout(e,100)}));case 5:a++,t.next=2;break;case 8:if(r){t.next=12;break}throw console.warn("🚫 Utente non autenticato, reindirizzamento a Login..."),e.showAccessDenied(!0),new Error("Utente non autenticato.");case 12:if(o){t.next=16;break}throw console.warn(" Utente non approvato, reindirizzamento..."),e.showAccessDenied(),new Error("Utente non approvato.");case 16:e.showAccessApproved();case 17:case"end":return t.stop()}}),n)})))()},showAccessApproved:function(){var e=document.getElementById("protect-page-cover"),t=document.getElementById("waiting-wrap"),n=document.getElementById("waiting-wrap-approved");e&&t&&n&&(gsap.set(n,{display:"flex"}),gsap.timeline().to(t,{y:"100%",duration:.8,ease:"power2.out"}).to(e,{opacity:0,duration:.6,ease:"power2.out",onComplete:function(){return gsap.set(e,{display:"none"})}},"+=0.4"))},showAccessDenied:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("🚫 Accesso negato, redirect...");var t=document.getElementById("protect-page-cover"),n=document.getElementById("waiting-wrap"),i=document.getElementById("waiting-wrap-denied");t&&n&&i&&(gsap.set(i,{display:"flex"}),gsap.to(n,{y:"100%",duration:.8,ease:"power2.out",onComplete:function(){var t=e?"/log-in":"/user-pending-approval";setTimeout((function(){window.location.href=t}),1e3)}}))},updateDashboardLinks:function(){return i(t().mark((function e(){var n,i,r,o,a,s,c,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=firebase.auth().currentUser,(i=document.querySelectorAll("[dashboard-link]")).forEach((function(e){return e.href="/user-pending-approval"})),n){e.next=7;break}return console.warn("⚠️ Nessun utente autenticato trovato."),e.abrupt("return");case 7:return e.next=9,n.getIdToken();case 9:if(r=e.sent){e.next=13;break}return console.error("❌ Token non generato, impossibile aggiornare i link."),e.abrupt("return");case 13:return e.next=15,fetch("https://us-central1-webflow-project---calltoaction.cloudfunctions.net/getUserCmsPage",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({uid:n.uid,token:r})});case 15:if((o=e.sent).ok){e.next=24;break}return e.t0=Error,e.t1="❌ Errore HTTP: ".concat(o.status," - "),e.next=21,o.text();case 21:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 24:return e.next=26,o.json();case 26:null!=(a=e.sent)&&a.cmsPage&&a.approved&&(s=window.location.hostname,c=s.includes("webflow.io")?"https://ctastudio.webflow.io":"https://www.ctastudio.it",l="".concat(c).concat(a.cmsPage.toLowerCase()),i.forEach((function(e){return e.href=l}))),e.next=33;break;case 30:e.prev=30,e.t4=e.catch(0),console.error("❌ Errore in updateDashboardLinks:",e.t4);case 33:case"end":return e.stop()}}),e,null,[[0,30]])})))()}}})()})();