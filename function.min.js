function burgerAnimation(e=!1){const t=document.querySelector("#burger"),o=document.querySelector("#burger-mobile"),r=document.querySelector(".brand-navbar");let a=!1;function n(){gsap.to(document.body,{duration:.2,opacity:0,onComplete:function(){gsap.to(window,{scrollTo:{y:0},onComplete:function(){gsap.to(document.body,{duration:.2,opacity:1})}})}})}function i(t,o){const r=gsap.timeline({onComplete:()=>{ScrollTrigger.refresh(),o&&o()}});r.to(".menu-container",{x:"-100vw",opacity:0,duration:.3,ease:"power1.out"}).to("#logo-hidden",{opacity:0,rotateY:90,duration:.5,ease:"power1.out"},"<").to("#logo-home",{opacity:"",rotateY:0,duration:.5,ease:"power1.out"},">").to(".line-top, .line-bottom",{backgroundColor:"",duration:.3,ease:"linear"},"0").to("#nav",{backgroundColor:"",duration:.5,ease:"linear"},"<").to(".line-middle",{opacity:1,ease:"power1.out"},"<").to(".line-bottom",{y:"0",rotationZ:0,duration:.3,ease:"power1.out"},"<").to(".line-top",{y:"0",rotationZ:0,duration:.3,ease:"power1.out"},"<").to(".menu-wrapper-row",{width:0,duration:.2,ease:"power1.out",stagger:t?.1:.2},"<").set(".cta-contact-nav",{display:"flex"},"<").set(".brand-container",{display:"none"},"<").to(".cta-contact-nav",{rotationX:0,opacity:1,duration:.5,ease:"power1.out"},"<").to(".page-wrapper",{opacity:1},"-=0.6").set(".menu-wrapper",{display:"none"},"-=0.4"),e&&r.to(".background-nav",{opacity:1,duration:0},"-=1"),a=!1}function s(t,o){const r=gsap.timeline({onComplete:()=>{ScrollTrigger.refresh(),o&&o()}});a?i(t,o):(r.set(".menu-wrapper",{display:"flex"}).to(".page-wrapper",{opacity:0},"-=0.5").to(".cta-contact-nav",{rotationX:90,opacity:0,duration:.5,ease:"power1.out"}).set(".brand-container",{display:"flex"}).set(".cta-contact-nav",{display:"none"},"<").to(".menu-wrapper-row",{width:"100%",duration:.2,ease:"power1.out",stagger:.2},"-=0.5").to(".line-top",{y:t?"11px":"14px",duration:.3,ease:"power1.out"},"<").to(".line-bottom",{y:t?"-11px":"-14px",duration:.3,ease:"power1.out"},"<").to(".line-middle",{opacity:0,duration:.2,ease:"power1.out"},"<").to(".line-top",{rotationZ:-45,duration:.2,ease:"power1.out"}).to(".line-bottom",{rotationZ:45,duration:.2,ease:"power1.out"},"<"),e&&r.to(".background-nav",{opacity:0,duration:.5},"-=1"),r.to("#nav",{backgroundColor:"#f2f2f2",duration:.5,ease:"linear"},"-=0.8").to("#logo-home",{opacity:0,rotateY:90,duration:.5,ease:"power1.out"},"<").to("#logo-hidden",{opacity:1,rotateY:0,duration:.5,ease:"power1.out"},">").to(".line-top, .line-bottom",{backgroundColor:"#0d0d0d",duration:.3,ease:"linear"},"-=0.6").to(".menu-container",{x:0,opacity:1,duration:.3,ease:"power1.out"},"-=0.6"),a=!0)}t.addEventListener("click",(()=>s(!1))),o.addEventListener("click",(()=>s(!0))),e&&r.addEventListener("click",(function(){const e=document.querySelector(".menu-wrapper");if(e&&"none"!==getComputedStyle(e).display){i(window.innerWidth<=767,n)}else n()}))}function initializeScrollControlButtons(){const e=document.querySelectorAll("[data-block-scroll]"),t=document.querySelectorAll("[data-unblock-scroll]"),o=document.querySelectorAll("[data-toggle-scroll]"),r=document.querySelectorAll("[data-scroll-container]");let a={top:0,left:0};function n(){a.top=window.scrollY||document.documentElement.scrollTop,a.left=window.scrollX||document.documentElement.scrollLeft}function i(){window.scrollTo(a.left,a.top)}function s(){n(),document.body.classList.add("no-scroll"),r.forEach((e=>{e.classList.add("scrollable")}))}function c(){i(),document.body.classList.remove("no-scroll"),r.forEach((e=>{e.classList.remove("scrollable")}))}function l(){document.body.classList.contains("no-scroll")?(i(),document.body.classList.remove("no-scroll")):(n(),document.body.classList.add("no-scroll"))}e.forEach((e=>{e.addEventListener("click",s,{passive:!0})})),t.forEach((e=>{e.addEventListener("click",c,{passive:!0})})),o.forEach((e=>{e.addEventListener("click",l,{passive:!0})}))}function navbarRepo(e=!1){const t=document.querySelector("#nav"),o=e?document.querySelector("#navbar-repo"):null,r=document.querySelector(".menu-wrapper");let a=null,n=!1,i=window.innerHeight;const s=gsap.from(t,{yPercent:-100,paused:!0,duration:.2,ease:"ease.out"}).progress(1);function c(){return ScrollTrigger.create({start:"top top",end:"max",onUpdate:e=>{const t=window.innerHeight;if("flex"!==getComputedStyle(r).display)return Math.abs(t-i)>50?(i=t,void(t>i?s.play():s.reverse())):void(-1===e.direction?s.play():s.reverse())}})}function l(){e&&o?ScrollTrigger.create({trigger:o,start:"top 20%",end:"bottom center",onEnter:()=>{n=!0,a||(a=c())},onLeaveBack:()=>{n=!1,a&&(a.kill(),a=null,gsap.set(t,{y:0}))}}):a=c()}window.addEventListener("resize",debounce((()=>{i=window.innerHeight,a&&(a.kill(),a=c()),l()}),200),{passive:!0}),l();new MutationObserver((()=>{a&&(a.kill(),a=c())})).observe(r,{attributes:!0,childList:!0,subtree:!0})}const menuNavigation={animateBurger:function(){const e=document.getElementById("burger");if(!e)return void console.error("Burger element not found");const t=e.querySelector(".line-middle"),o=e.querySelector(".line-top"),r=e.querySelector(".line-bottom");if(!t||!o||!r)return void console.error("One or more line elements not found");const a=gsap.timeline({paused:!0});a.to(t,{width:"24px",duration:.2,ease:"power2.out"}).to(o,{width:"40px",duration:.2,ease:"power2.out"},0).to(r,{width:"40px",duration:.2,ease:"power2.out"},0),e.addEventListener("mouseenter",(()=>{a.play()})),e.addEventListener("mouseleave",(()=>{a.reverse()}))},initializeHoverAnimations:function(){document.querySelectorAll(".link-wrapper-menu").forEach((e=>{const t=gsap.timeline({paused:!0});t.fromTo(e.querySelector(".icon-menu-link"),{x:"-15rem",scale:.5,opacity:0},{x:"-0.5rem",scale:1,opacity:1,duration:.4,ease:"back.out(3)"},0),t.to(e.querySelector(".sublink"),{scale:.8,y:5,duration:.5,color:"#f06",transformOrigin:"top left",ease:"power1.out"},0),t.to(e.querySelector(".link-heading"),{rotationZ:3,x:"1rem",y:5,scale:1.2,duration:.3,ease:"power1.out",transformOrigin:"bottom left"},.1);const o=gsap.timeline({paused:!0});o.fromTo(e.querySelector(".icon-menu-link"),{x:"-15rem",scale:.5,opacity:0},{x:"-0.5rem",scale:1,opacity:1,duration:.4,ease:"back.out(3)"},0),o.to(e.querySelector(".sublink"),{scale:.8,y:5,duration:.5,color:"#f06",transformOrigin:"top left",ease:"power1.out"},0),o.to(e.querySelector(".link-heading"),{rotationZ:3,x:"1rem",y:5,scale:1.2,duration:.3,ease:"power1.out",transformOrigin:"bottom left"},0),e.addEventListener("mouseenter",(()=>t.play())),e.addEventListener("mouseleave",(()=>t.reverse())),e.addEventListener("touchstart",(()=>o.play()),{passive:!0}),e.addEventListener("touchend",(()=>o.reverse()),{passive:!0})}))},initializeSimpleHoverTouchAnimations:function(){document.querySelectorAll(".link-text-menu").forEach((e=>{const t=gsap.timeline({paused:!0});t.to(e,{rotationZ:10,color:"#f06",duration:.3,ease:"back.out(3)"},0);const o=gsap.timeline({paused:!0});o.to(e,{rotationZ:10,color:"#f06",duration:.3,ease:"back.out(3)"},0),e.addEventListener("mouseenter",(()=>t.play())),e.addEventListener("mouseleave",(()=>t.reverse())),e.addEventListener("touchstart",(()=>o.play()),{passive:!0}),e.addEventListener("touchend",(()=>o.reverse()),{passive:!0})}))},animateLinkItemMagazine:function(){const e=document.getElementById("link-magazine");if(!e)return void console.error("Elemento #link-item-Magazine non trovato");const t=gsap.timeline({paused:!0});t.to(e,{backgroundColor:"#f06",duration:.2,ease:"ease.out",paddingLeft:"+=1rem"}).to([".h-magazine",".sublink-first-menu"],{color:"#f4f4f4",duration:.3,ease:"power1.out"}).to(".span-link-magazine",{color:"#0d0d0d",rotationZ:10,duration:.2,ease:"power1.out"},"<").to("#arrow-proposito-link",{color:"#f4f4f4",scale:1.2,duration:.2,x:"1rem",ease:"back.out(3)"},"-=0.1"),e.addEventListener("mouseenter",(()=>t.play())),e.addEventListener("mouseleave",(()=>t.reverse())),e.addEventListener("touchstart",(()=>t.play()),{passive:!0}),e.addEventListener("touchend",(()=>t.reverse()),{passive:!0})},shareBtnAnimation:function(){document.querySelectorAll(".share-btn").forEach((e=>{const t=e.querySelector(".svg-cont");gsap.context((()=>{function o(e){gsap.to(t,{duration:.3,opacity:e?1:0,right:e?0:"auto",ease:"power1.out"})}e.addEventListener("mouseenter",(()=>o(!0))),e.addEventListener("mouseleave",(()=>o(!1))),e.addEventListener("touchstart",(()=>o(!0))),e.addEventListener("touchend",(()=>o(!1)))}),e)}))},init:function(){window.matchMedia("(min-width: 768px)").matches&&this.animateBurger(),this.initializeHoverAnimations(),this.initializeSimpleHoverTouchAnimations(),this.animateLinkItemMagazine(),this.shareBtnAnimation()}};function dataColorAndScrollTop(){document.querySelectorAll("[data-color]").forEach((e=>{const t=e.getAttribute("data-color");t?gsap.to(e,{color:t,duration:1,ease:"power1",scrollTrigger:{trigger:e,start:"top 70%",end:"top top",toggleActions:"play none none reverse"}}):console.warn(`Element ${e} does not have a valid data-color attribute.`)})),document.querySelectorAll('[data-scroll="top"]').forEach((e=>{e.addEventListener("click",(()=>{gsap.to(window,{duration:1,scrollTo:{y:0,autoKill:!0},ease:"power2.inOut"})}))}))}function secondSection(e=!1){const t=gsap.matchMedia();t.add("(min-width: 320px) and (max-width: 767px)",(()=>{console.log("Mobile breakpoint active"),document.querySelectorAll(".focus").forEach((e=>{gsap.to(e,{x:"10vw",scale:.8,opacity:.5,y:"33%",rotate:90,transformOrigin:"top left",ease:"power1",scrollTrigger:{trigger:e,start:"top 20%",end:"top top",toggleActions:"play none none reverse"}})}))})),t.add("(min-width: 768px) and (max-width: 991px)",(()=>{console.log("Tablet breakpoint active"),document.querySelectorAll(".focus").forEach((e=>{gsap.to(e,{x:"12vw",opacity:.5,rotate:90,y:"50%",transform:"translateY(-50%)",transformOrigin:"top left",ease:"power1",scrollTrigger:{trigger:e,start:"top 20%",end:"top top",toggleActions:"play none none reverse"}})}))})),t.add("(min-width: 992px)",(()=>{console.log("Desktop breakpoint active"),document.querySelectorAll(".focus").forEach((e=>{gsap.to(e,{x:"10vw",opacity:.5,rotate:90,y:"50%",transform:"translateY(-50%)",transformOrigin:"top left",ease:"power1",scrollTrigger:{trigger:e,start:"top 10%",end:"top top",toggleActions:"play none none reverse"}})}))}));const o=document.querySelectorAll(".path-container"),r=document.querySelectorAll(".img-target");gsap.matchMedia().add("(min-width: 320px) and (max-width: 991px)",(()=>{o.forEach((t=>{const o=t.getAttribute("data-img-id"),a=o?document.getElementById(o):t.querySelector(".img-target");t.querySelectorAll(".path-vector").forEach((o=>{const r=gsap.timeline({scrollTrigger:{trigger:t,start:"top 70%",end:"top top",toggleActions:"play none none reverse"}});r.from(o,{opacity:0,scale:0,duration:.5,x:-200,ease:"power1.out"}),e&&r.to(o,{rotation:90,x:"-0.6rem",y:"0.6rem",duration:.2,ease:"power1.in"})})),a&&gsap.fromTo(a,{opacity:0},{opacity:1,duration:.5,ease:"power1.out",scrollTrigger:{trigger:t,start:"top 90%",end:"top 10%",toggleActions:"play none none reverse",onEnter:()=>{gsap.to(r,{opacity:0,duration:1,ease:"power1.out"}),gsap.to(a,{opacity:.7,duration:1,ease:"power1.out"})},onLeave:()=>{gsap.to(a,{opacity:0,duration:1,ease:"power1.out"})},onEnterBack:()=>{gsap.to(r,{opacity:0,duration:1,ease:"power1.out"}),gsap.to(a,{opacity:.7,duration:1,ease:"power1.out"})},onLeaveBack:()=>{gsap.to(a,{opacity:0,duration:1,ease:"power1.out"})}}})}))})),gsap.matchMedia().add("(min-width: 992px)",(()=>{o.forEach((t=>{const o=t.getAttribute("data-img-id"),a=o?document.getElementById(o):t.querySelector(".img-target");t.querySelectorAll(".path-vector").forEach((o=>{const r=gsap.timeline({scrollTrigger:{trigger:t,start:"top 70%",end:"top top",toggleActions:"play none none reverse"}});r.from(o,{opacity:0,scale:0,duration:.5,x:-200,ease:"power1.out"}),e&&r.to(o,{rotation:90,x:"-1rem",y:"1rem",duration:.2,ease:"power1.in"})})),a&&gsap.fromTo(a,{opacity:0},{opacity:1,duration:.5,ease:"power1.out",scrollTrigger:{trigger:t,start:"top 80%",end:"top 20%",toggleActions:"play none none reverse",onEnter:()=>{gsap.to(r,{opacity:0,duration:1,ease:"power1.out"}),gsap.to(a,{opacity:1,duration:1,ease:"power1.out"})},onLeave:()=>{gsap.to(a,{opacity:0,duration:1,ease:"power1.out"})},onEnterBack:()=>{gsap.to(r,{opacity:0,duration:1,ease:"power1.out"}),gsap.to(a,{opacity:1,duration:1,ease:"power1.out"})},onLeaveBack:()=>{gsap.to(a,{opacity:0,duration:1,ease:"power1.out"})}}})}))})),e||document.querySelectorAll(".img-tg-cont").forEach((e=>{gsap.from(e,{y:200,opacity:0,duration:1,ease:"linear",scrollTrigger:{trigger:e,start:"top 20%",end:"top top",toggleActions:"play none none reverse"}})}))}function info(){document.querySelectorAll(".cm-talk-content").forEach((e=>{const t=e.querySelector(".cta-container"),o=e.querySelector(".plus-btn-cta"),r=e.querySelector(".cta-service-btn");let a=!1;function n(){a||(gsap.to(o,{scale:1.5,rotation:90,color:"#f06",duration:.5,ease:"ease.out"}),gsap.to(o.querySelectorAll(".ellipse-47"),{stroke:"transparent",duration:.5,ease:"ease.out"},0))}function i(){a||(gsap.to(o,{rotation:0,scale:1,color:"",duration:.5,ease:"ease.out"}),gsap.to(o.querySelectorAll(".ellipse-47"),{stroke:"",duration:.5,ease:"ease.out"},0))}o.addEventListener("mouseenter",n),o.addEventListener("mouseleave",i),o.addEventListener("touchstart",n),o.addEventListener("touchend",i),r.addEventListener("click",(()=>{if(t.classList.contains("open"))gsap.to(t,{height:0,duration:.5}),gsap.to(o,{scale:1,rotation:0,color:"",duration:.5,ease:"ease.out"}),gsap.to(o.querySelectorAll(".ellipse-47, .vector-9"),{stroke:"",duration:.5,ease:"ease.out"},0),t.classList.remove("open"),a=!1;else{gsap.set(t,{height:"auto"});const e=t.offsetHeight;gsap.fromTo(t,{height:0},{height:e,duration:.5}),gsap.to(o,{scale:1.5,rotation:90,color:"#f06",duration:.5,ease:"ease.out"}),gsap.to(o.querySelectorAll(".ellipse-47, .vector-9"),{stroke:"transparent",duration:.5,ease:"ease.out"},0),t.classList.add("open"),a=!0}}))}))}function ctaAnimations(){document.querySelectorAll(".btn-cta").forEach((e=>{const t=e.querySelector(".button-bg-gradient");if(!t)return void console.error("Element gradientDiv not found.");const o=getComputedStyle(t).getPropertyValue("--background-first").trim(),r=getComputedStyle(t).getPropertyValue("--primary").trim(),a=()=>{const a=gsap.timeline({paused:!0});a.to(t,{backgroundImage:`linear-gradient(to right, ${o}, ${r})`,duration:.8,ease:"linear"},0).to(e.querySelector(".button-spacer"),{width:"5%",duration:.6,ease:"power2.out"},"<").to(e.querySelector(".button-bg-gradient-cover"),{x:"-100%",duration:.6,ease:"expo.out"},"<").to(e.querySelector(".text-cta"),{marginRight:"0.75rem",color:"black",duration:.5,ease:"power2.out"},"<").to(e.querySelector(".freccia-cta"),{"--freccia-cta":"#0d0d0d",duration:.5,ease:"power2.out"},"<");const n=()=>a.play(),i=()=>a.reverse();return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",i),e.addEventListener("touchstart",n),e.addEventListener("touchend",i),a};gsap.matchMedia().add("(min-width: 992px)",(()=>{a()})),gsap.matchMedia().add("(min-width: 320px) and (max-width: 991px)",(()=>{a()})),gsap.matchMedia().add("(max-width: 992px)",(()=>{const a=gsap.timeline({repeat:-1,paused:!0});a.to(t,{backgroundImage:`linear-gradient(to right, ${r}, ${o})`,duration:1.6,ease:"linear"},0),a.to(t,{backgroundImage:`linear-gradient(to right, ${o}, ${r})`,duration:1.6,ease:"linear"},1.5),a.play();const n=()=>a.pause(),i=()=>a.play();e.addEventListener("touchstart",n),e.addEventListener("touchend",i),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",i)})),e.classList.contains("herotop")||ScrollTrigger.create({trigger:e,start:"top 95%",end:"bottom 5%",toggleActions:"play none none reverse",onEnter:()=>gsap.to(e,{x:0,duration:.6,ease:"power2.out"})})}))}function videoPause(){const e=document.querySelectorAll("div.w-background-video[data-pause-on-scroll]");if("IntersectionObserver"in window){const t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target.querySelector("video");o&&(o.hasAttribute("data-lazy")&&(o.setAttribute("src",o.dataset.src),o.load(),o.removeAttribute("data-lazy")),o.play(),ScrollTrigger.create({trigger:e.target,start:"top bottom",end:"bottom top",onLeave:()=>o.pause(),onEnterBack:()=>o.play(),onLeaveBack:()=>o.pause()}),t.unobserve(e.target))}}))}));e.forEach((e=>{t.observe(e)}))}else e.forEach((e=>{const t=e.querySelector("video");t&&ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onEnter:()=>t.play(),onLeave:()=>t.pause(),onEnterBack:()=>t.play(),onLeaveBack:()=>t.pause()},{passive:!0})}))}function toggleFaq(){document.querySelectorAll(".dropdown-container").forEach((e=>{const t=e.querySelector(".p-toggle"),o=e.querySelector(".drop-toggle");e.querySelector(".dropdown-wrapper").addEventListener("click",(()=>{if(t.classList.contains("open"))gsap.to(t,{height:0,duration:.5}),gsap.to(o,{rotation:0,duration:.5,color:"",ease:"ease.out"}),t.classList.remove("open");else{gsap.set(t,{height:"auto"});const e=t.offsetHeight;gsap.fromTo(t,{height:0},{height:e,duration:.5}),gsap.to(o,{rotation:180,duration:.5,color:"#f06",ease:"ease.out"}),t.classList.add("open")}}))}))}const portfolioFunctions={togglePortfolio:function(){document.querySelectorAll(".case-wrapper").forEach((e=>{const t=e.querySelector(".c-toggle"),o=e.querySelector(".case-toggle");e.querySelector(".case-container").addEventListener("click",(()=>{if(t.classList.contains("open"))gsap.to(t,{height:0,duration:.5}),gsap.to(o,{rotation:0,duration:.5,color:"",ease:"ease.out"}),t.classList.remove("open");else{gsap.set(t,{height:"auto"});const e=t.offsetHeight;gsap.fromTo(t,{height:0},{height:e,duration:.5}),gsap.to(o,{rotation:180,duration:.5,color:"#f06",ease:"ease.out"}),t.classList.add("open")}}))}))},portfolioInfo:function(){let e=null,t=null;document.querySelectorAll(".div-content-portfolio").forEach((o=>{o.querySelectorAll(".portfolio-btn-link").forEach((r=>{const a=r.getAttribute("data-btn"),n=o.querySelector(`.btn-link[data-btn="${a}"]`);function i(){r.classList.contains("active")||(gsap.to(r.querySelector(".portfolio-btn"),{color:"#f06",rotation:0,scale:1.2,duration:.5,ease:"ease.out"}),gsap.to(r.querySelector(".text-btn-portfolio"),{color:"#f06",duration:.5,ease:"linear"}))}function s(){r.classList.contains("active")||(gsap.to(r.querySelector(".portfolio-btn"),{color:"#f06",scale:1,duration:.5,ease:"ease.out"}),gsap.to(r.querySelector(".text-btn-portfolio"),{color:"currentcolor",duration:.5,ease:"linear"}))}function c(e){e&&(e.classList.remove("active"),gsap.to(e.querySelector(".portfolio-btn"),{color:"#f06",rotation:0,scale:1,duration:.5,ease:"ease.out"}),gsap.to(e.querySelector(".text-btn-portfolio"),{color:"currentcolor",duration:.5,ease:"linear"}))}r.addEventListener("mouseenter",i),r.addEventListener("mouseleave",s),r.addEventListener("touchstart",i),r.addEventListener("touchend",s),r.addEventListener("click",(()=>{const o=n.classList.contains("open");if(e&&e!==n&&(gsap.to(e,{height:0,duration:.5}),e.classList.remove("open"),c(t)),o)gsap.to(n,{height:0,duration:.5}),n.classList.remove("open"),c(r),e=null,t=null;else{gsap.set(n,{height:"100%"});const o=n.offsetHeight;gsap.fromTo(n,{height:0},{height:o,duration:.5}),n.classList.add("open"),e=n,t=r,(a=r).classList.add("active"),gsap.to(a.querySelector(".portfolio-btn"),{color:"#f06",rotation:90,scale:1.1,duration:.5,ease:"ease.out"}),gsap.to(a.querySelector(".text-btn-portfolio"),{color:"#f06",duration:.5,ease:"linear"})}var a}))}))}))},init:function(){this.togglePortfolio(),this.portfolioInfo()}};function initializeGSAPAnimations(){const e=gsap.timeline({onComplete:()=>{document.getElementById("cover-div").style.display="none"}});const t=gsap.timeline(),o=gsap.timeline(),r=gsap.timeline(),a=gsap.timeline(),n=gsap.timeline(),i=gsap.timeline(),s=gsap.timeline(),c=gsap.timeline(),l=gsap.timeline(),u=gsap.timeline({onComplete:()=>{console.log("Tutte le animazioni sono completate"),animaArrow2()}});return u.add(l,.1).add(t,.9).add(o,.5).add(r,1.4).add(i,2.1).add(a,2).add(n,3).add(s,3.4).add(c,2.6),e.to("#cover-div",{opacity:0,duration:.1}),gsap.timeline().call((function(){console.log("Animazione completata")})),o.from(".letter.d",{rotationY:90,ease:"power2.out",duration:1}),t.from("#Vect-1",{x:"-120%",duration:1,ease:"expo.out"}).from("#Vect-2",{x:"120%",duration:.5,ease:"expo.out"},"<").to("#Mask-brand",{rotate:-360,transformOrigin:"center",duration:.8,ease:"linear"},"-=0.1"),r.from(".svg-letter-ee",{y:"-150%",ease:"elastic.out",duration:1}).to(".svg-letter-ee",{rotationY:90,ease:"linear",transformOrigin:"right",duration:.5}).from(".letter.ee",{rotationY:-90,transformOrigin:"left",ease:"linear",duration:.5},"-=0.3"),a.from(".letter.s",{y:"150%",duration:.5,ease:"power2.inOut"}),i.from(".letter.g",{scale:.5,opacity:0,duration:.5,ease:"power2.inOut"}).from(".letter.g",{rotation:-720,duration:1,ease:"expo.out"},"<").to(".letter.g",{rotationZ:0,duration:.8,ease:"power2.inOut"}).to(".svg-letter-e",{rotationY:-90,transformOrigin:"right",duration:.5,ease:"linear"},"-=1").to(".letter.e",{rotationY:0,transformOrigin:"left",duration:.5,ease:"linear"},"-=0.5"),n.from(".letter.i",{y:"-100%",duration:1,ease:"power2.inOut"}).from(".letter.agency",{x:"200%",duration:.5,ease:"expo.out"},"-=0.4"),s.from(".letter.n",{x:"-100%",duration:1,ease:"power2.inOut"}).to(".letter.d",{y:"-50%",ease:"bouce.out",duration:.5,yoyo:!0,repeat:1}).from(".letter.web",{y:-200,duration:.5,ease:"expo.out"},"-=0.3").from("#asterix-mask",{rotate:-180,transformOrigin:"center",duration:.5,ease:"power2"},"<").to("#web1",{x:0,duration:.5,ease:"power2"},"<"),l.from(".span-parentesi1, .span-parentesi2",{rotationY:-810,duration:2.5,ease:"power2.inOut"}).to(".span-parentesi2",{x:"0%",duration:.6,ease:"power2.out"}).to(".btn-cta.herotop",{x:0,duration:.5,ease:"power2.out"},"<").from(".letter.hidden, .letter.p1, .letter.p2, .svg-letter-o",{rotationY:-90,duration:.3,ease:"power2.out",stagger:.1},"-=0.6").to(".letter.p2",{rotationY:"0",duration:1,ease:"back.out(1.7)"}).to(".letter.hidden",{y:"100%",duration:1,ease:"back.out(1.7)",stagger:.2},"-=0.6").to(".letter.sviluppo",{y:0,duration:1,ease:"back.out(1.7)",stagger:.2},"<"),c.from(".h2-tagline",{rotationX:90,duration:1,ease:"back.out(1.7)"},"<").from("#nav",{y:"-5rem",duration:.5,ease:"back.out(1.7)"},"<").from(".div-scorri",{y:"5rem",duration:.5,ease:"back.out(1.7)"},"<"),u}function animaArrow(){let e=gsap.timeline(),t=gsap.timeline(),o=gsap.timeline(),r=gsap.timeline();e.to("#asterix-mask",{delay:2,rotate:"+=180",transformOrigin:"center",duration:.5,ease:"linear"}).to("#web1",{x:"200%",duration:.5,ease:"power2.inOut"},"<").to("#web2",{x:0,duration:.5,ease:"power2.inOut"},"<").to("#web1",{opacity:0,x:"-200%",duration:0}).to("#web1",{opacity:1}),t.to("#asterix-mask",{delay:2,rotate:"+=180",transformOrigin:"center",duration:.5,ease:"linear"}).to("#web2",{x:"200%",duration:.5,ease:"power2.inOut"},"<").to("#web3",{x:0,duration:.5,ease:"power2.inOut"},"<").to("#web2",{opacity:0,x:"-200%",duration:0}).to("#web2",{opacity:1}),o.to("#asterix-mask",{delay:2,rotate:"+=180",transformOrigin:"center",duration:.5,ease:"linear"}).to("#web3",{x:"200%",duration:.5,ease:"power2.inOut"},"<").to("#web4",{x:0,duration:.5,ease:"power2.inOut"},"<").to("#web3",{opacity:0,x:"-200%",duration:0}).to("#web3",{opacity:1}),r.to("#asterix-mask",{delay:2,rotate:"+=180",transformOrigin:"center",duration:.5,ease:"linear"}).to("#web4",{x:"200%",duration:.5,ease:"power2.inOut"},"<").to("#web1",{x:0,duration:.5,ease:"power2.inOut"},"<").to("#web4",{opacity:0,x:"-200%",duration:0}).to("#web4",{opacity:1});let a=gsap.timeline({repeat:-1});a.add(e).add(t).add(o).add(r);let n=gsap.timeline({repeat:-1});n.to(".letter.i",{delay:1,rotationX:-90,transformOrigin:"center",duration:1,ease:"power2.inOut"}).to(".svg-letter-i",{transformOrigin:"center",rotationX:0,duration:1,ease:"back.out(3)"}).to(".svg-letter-i",{delay:1,rotationX:-270,transformOrigin:"center",duration:1,ease:"back.out(3)"}).to(".letter.i",{transformOrigin:"center",rotationX:0,duration:1,ease:"back.out(3)"});let i=gsap.timeline({repeat:-1});i.to(".span-scorri",{delay:2,opacity:0,duration:1,ease:"power2.inOut"}).to(".freccia-scorri",{opacity:1,duration:1,ease:"power2.inOut"},"-=0.5").to(".freccia-scorri",{delay:2,opacity:0,duration:1,ease:"power2.inOut"}).to(".span-scorri",{opacity:1,duration:1,ease:"power2.inOut"},"-=0.5"),ScrollTrigger.create({trigger:".hero",start:"bottom center",end:"bottom top",scrub:!0,onEnter:()=>{a.pause(),n.pause(),i.pause()},onLeaveBack:()=>{a.play(),n.play(),i.play()}}),a.play(),n.play(),i.play()}function initializeScrollFlipAnimations(){function e(e,t){const o=typeof e;return"string"!=typeof t||""===t.trim()?e:"true"===t&&"boolean"===o||("false"!==t||"boolean"!==o)&&(isNaN(t)&&"string"===o?t:isNaN(t)||"number"!==o?e:+t)}document.querySelectorAll("[tr-scrollflip-element='component']").forEach((function(t){const o=t.querySelectorAll("[tr-scrollflip-element='origin']"),r=t.querySelectorAll("[tr-scrollflip-element='target']"),a=t.querySelector("[tr-scrollflip-scrubstart]"),n=t.querySelector("[tr-scrollflip-scrubend]"),i=e("top top",a.getAttribute("tr-scrollflip-scrubstart")),s=e("bottom bottom",n.getAttribute("tr-scrollflip-scrubend")),c=e(0,t.getAttribute("tr-scrollflip-staggerspeed")),l=e("start",t.getAttribute("tr-scrollflip-staggerdirection")),u=e(!1,t.getAttribute("tr-scrollflip-scale")),d=e(0,t.getAttribute("tr-scrollflip-breakpoint"));let p;function g(){p&&(p.kill(),gsap.set(r,{clearProps:"all"})),document.body.classList.add("scrollflip-relative"),gsap.matchMedia().add(`(min-width: ${d}px)`,(()=>{const e=Flip.getState(o);p=gsap.timeline({scrollTrigger:{trigger:a,endTrigger:n,start:i,end:s,scrub:!0}}),p.add(Flip.from(e,{targets:r,scale:u,stagger:{amount:c,from:l}}))})),document.body.classList.remove("scrollflip-relative")}g(),window.addEventListener("resize",debounce((()=>{g()}),250))}))}function createScrollTriggerHero(){ScrollTrigger.create({trigger:".hero-trigger",start:"top 95%",end:"top 85%",onEnter:()=>{gsap.to(".brand_header",{y:"-10rem",opacity:0,ease:"none",duration:1},"<")},onLeaveBack:()=>{gsap.to(".brand_header",{y:0,opacity:1,ease:"none",duration:1},"<")}});const e=document.querySelector("#nav"),t=document.querySelector(".btn-cta.herotop");ScrollTrigger.create({trigger:t,start:()=>`top ${e.offsetHeight}px`,end:"bottom top",scrub:!0,toggleActions:"play none none reverse",onEnter:()=>{gsap.timeline().to("#nav",{boxShadow:"0 2px 5px 2px rgba(0, 0, 0, 0.4)",duration:.5,ease:"power4.inOut"}).to("#cta-nav",{y:0,duration:.3,ease:"power4.inOut"},"<").to(".header",{height:"0rem",duration:.3,ease:"power4.inOut"},"<").to(".div-scorri",{rotationX:90,transformOrigin:"bottom",duration:.5,ease:"power4.inOut",stagger:{amount:.3}},"<")},onLeaveBack:()=>{gsap.timeline().to("#nav",{boxShadow:"none",duration:.5,ease:"power4.inOut"},"<").to("#cta-nav",{y:"-5rem",duration:.3,ease:"power4.inOut"},"<").to(".header",{height:"",duration:.3,ease:"power4.inOut"},"-=0.2").to(".div-scorri",{rotationX:0,transformOrigin:"bottom",duration:.5,ease:"power4.inOut",stagger:{amount:.3}},"<")}}),ScrollTrigger.refresh()}const cecoStretegy={setupCecoStrategy:function(){new SplitType(".ceco-heading",{types:"words",tagName:"span"});let e=gsap.fromTo(".ceco-heading .word",{opacity:0,y:100},{opacity:1,y:0,duration:1,ease:"back.out(1.7)",stagger:{amount:.5}});ScrollTrigger.create({trigger:"#ceco",start:"top 30%",end:"bottom bottom",toggleActions:"play none none resume",animation:e});let t=window.innerWidth<768,o=gsap.timeline({scrollTrigger:{trigger:".trigger-ceco",start:"bottom 80%",end:"bottom top",scrub:!0}});o.to(".top-wrapper",{y:"-55vh",duration:1}).to(".ceco-heading",{opacity:0,duration:1},"<").fromTo(".inner-section",{opacity:0},{opacity:1,duration:1},"<"),t?o.to(".bottom-wrapper",{y:"70vh",duration:1,borderRadius:"5rem"},"<"):o.to(".bottom-wrapper",{y:"60vh",duration:1},"<")},toggleCeco:function(){let e=null;const t=document.querySelector(".page-wrapper");document.querySelectorAll("#ceco .card-item").forEach((o=>{const r=o.getAttribute("data-ceco"),a=document.querySelector(`.ceco-popup[data-ceco="${r}"]`);if(!a)return void console.error(`Service container for ${r} not found.`);function n(){o.classList.contains("active")||(gsap.to(o.querySelector(".card-item-wrapper"),{borderBottomRightRadius:"1rem",borderBottomLeftRadius:"15rem",duration:.5,ease:"power1.out"}),gsap.to(o.querySelector(".plus-btn-ceco"),{color:"#f2f2f2",rotation:90,scale:1.1,duration:.5,ease:"power1.out"}),gsap.to(o.querySelectorAll(".vector-8, .vector-9"),{strokeWidth:"1.5",duration:.5,ease:"ease.out"}))}function i(){o.classList.contains("active")||(gsap.to(o.querySelector(".card-item-wrapper"),{borderBottomRightRadius:"10rem",borderBottomLeftRadius:"1rem",duration:.5,ease:"power1.out"}),gsap.to(o.querySelector(".plus-btn-ceco"),{color:"",scale:1,rotation:0,duration:.5,ease:"power1.out"}),gsap.to(o.querySelectorAll(".vector-8, .vector-9"),{strokeWidth:"",duration:.5,ease:"ease.out"}))}o.addEventListener("mouseenter",n),o.addEventListener("mouseleave",i),o.addEventListener("touchstart",n),o.addEventListener("touchend",i),o.addEventListener("click",(()=>{const o=a.classList.contains("open");if(e&&e!==a&&(gsap.to(e,{opacity:0,height:0,duration:.5}),e.classList.remove("open"),e=null,gsap.to(t,{opacity:1,duration:.5})),o)gsap.to(a,{opacity:0,height:0,duration:.5}),a.classList.remove("open"),e=null,gsap.to(t,{opacity:1,duration:.5});else{gsap.set(a,{height:"auto"});const o=a.offsetHeight;gsap.fromTo(a,{height:0},{height:o,duration:.5}),gsap.to(a,{opacity:1,duration:.5}),a.classList.add("open"),e=a,gsap.to(t,{opacity:.5,duration:.5})}}));const s=a.querySelector(".popup-close");s?s.addEventListener("click",(()=>{gsap.to(a,{opacity:0,height:0,duration:.5}),a.classList.remove("open"),e=null,gsap.to(t,{opacity:1,duration:.5})})):console.error(`Close button not found in service container for ${r}`)}))},changeCSSVariablesOnScroll:function(){const e="transparent",t="#0d0d0d";function o(e){gsap.to(".background-nav",{backgroundColor:e,duration:0,ease:"none"})}ScrollTrigger.create({trigger:".trigger-ceco-2",start:"top+=100vh top",onEnter:()=>o(t),onLeaveBack:()=>o(e)}),ScrollTrigger.create({trigger:".trigger-ceco-2",start:"bottom top",onEnterBack:()=>o(t),onLeave:()=>o(e)})},animateCecoOnScroll:function(){ScrollTrigger.create({trigger:".trigger-ceco-2",start:"top+=80vh top",onEnter:function(){gsap.to(".ceco-element",{rotation:"+=360",duration:10,ease:"none",repeat:-1}),gsap.to(".ceco-graphic-item",{rotation:"-=360",duration:10,ease:"none",repeat:-1})},onLeaveBack:()=>{gsap.set(".ceco-element",{rotation:0}),gsap.set(".ceco-graphic-item",{rotation:0}),ScrollTrigger.refresh()}})},init:function(){this.setupCecoStrategy(),this.toggleCeco(),this.changeCSSVariablesOnScroll(),this.animateCecoOnScroll()}};function swiperHome(){var e=new Swiper(".swiper-container-home",{slidesPerView:"auto",spaceBetween:0,loop:!0,centeredSlides:!0,autoplay:{delay:500,disableOnInteraction:!1},speed:500,on:{init:function(){this.update(),t(this)},slideChange:function(){t(this)}}});function t(e){const t=e.slides;t.forEach(((t,o)=>{t.style.opacity=o===e.activeIndex?1:.6})),gsap.to(t[e.activeIndex].querySelector(".parallax-bg-img"),{scale:1.1,opacity:1,duration:.5,ease:"power3.out"}),t[e.activeIndex-1]&&gsap.to(t[e.activeIndex-1].querySelector(".parallax-bg-img"),{scale:.5,opacity:.6,duration:.5,ease:"power3.out"}),t[e.activeIndex+1]&&gsap.to(t[e.activeIndex+1].querySelector(".parallax-bg-img"),{scale:.5,opacity:.6,duration:.5,ease:"power3.out"})}new IntersectionObserver((function(t){t.forEach((t=>{t.isIntersecting?e.autoplay.start():e.autoplay.stop()}))}),{threshold:.5}).observe(document.querySelector(".swiper-container-home"))}function logoAnima(){document.querySelectorAll(".logo-cont-wrapper").forEach((e=>{const t=gsap.fromTo(e,{y:100,opacity:0,scale:.9},{y:0,opacity:1,scale:1,duration:1,ease:"power2.out",paused:!0});ScrollTrigger.create({trigger:e,start:"top 80%",end:"bottom top",onEnter:()=>t.play(),onEnterBack:()=>t.play(),onLeave:()=>t.reverse(),onLeaveBack:()=>t.reverse(),toggleActions:"play none none reverse"})}))}function swiperUI(){const e=new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:20,loop:!0,centeredSlides:!0,autoplay:{delay:2e3,disableOnInteraction:!1},speed:600,navigation:{nextEl:document.querySelector(".swiper-button-next"),prevEl:document.querySelector(".swiper-button-prev")},on:{init:function(){this.update(),t(this)},slideChange:function(){t(this)}}});function t(e){e.slides.forEach(((t,o)=>{o===e.activeIndex?(gsap.to(t,{opacity:1,scale:1,duration:.5,ease:"power3.out"}),gsap.to(t.querySelector(".parallax-bg-img"),{scale:1,opacity:1,duration:.5,ease:"power3.out"})):(gsap.to(t,{opacity:.6,scale:.8,duration:.5,ease:"power3.out"}),gsap.to(t.querySelector(".parallax-bg-img"),{scale:.8,opacity:.6,duration:.5,ease:"power3.out"}))}))}new IntersectionObserver((function(t){t.forEach((t=>{t.isIntersecting?e.autoplay.start():e.autoplay.stop()}))}),{threshold:.5}).observe(document.querySelector(".swiper-container"))}function changePrice(e){$(".number").each((function(){var t=$(this),o=e?t.attr("data-year"):t.attr("data-month");$({countNum:t.text()}).animate({countNum:o},{duration:500,easing:"linear",step:function(e){t.text(Math.round(e.toFixed(2)))},complete:function(){t.text(this.countNum)}})}))}function toggleServiceSection(){document.querySelectorAll(".pricing_card").forEach((e=>{const t=e.querySelector(".service-container"),o=e.querySelector(".plus-btn");e.querySelector(".h-btn-container").addEventListener("click",(()=>{if(t.classList.contains("open"))gsap.to(t,{height:0,duration:.5}),gsap.to(o,{rotation:0,duration:.5,width:"",ease:"ease.out"}),gsap.to(e.querySelectorAll(".vector-9, .ellipse-47"),{stroke:"currentColor",duration:.5}),gsap.to(e.querySelectorAll(".vector-8"),{attr:{"stroke-width":""},stroke:"currentcolor",duration:.5}),t.classList.remove("open");else{gsap.set(t,{height:"auto"});const r=t.offsetHeight;gsap.fromTo(t,{height:0},{height:r,duration:.5}),gsap.to(o,{rotation:90,duration:.5,width:"4rem",ease:"ease.out"}),gsap.to(e.querySelectorAll(".vector-9, .ellipse-47"),{stroke:"transparent",duration:.5}),gsap.to(e.querySelectorAll(".vector-8"),{attr:{"stroke-width":2},stroke:"#f06",duration:.5}),t.classList.add("open")}}))}))}function toggleButtonAnimation(){const e=document.querySelector(".toggle_btn"),t=e.querySelector(".toggle_btn_circle"),o=document.querySelectorAll(".number");let r=!1;function a(){r=!r,r?(gsap.to(t,{x:e.clientWidth-t.clientWidth-19.2,duration:.3}),gsap.to(e,{backgroundColor:"var(--ciano)",duration:.3}),gsap.to(o,{color:"var(--ciano)",duration:.3})):(gsap.to(t,{x:0,duration:.3}),gsap.to(e,{backgroundColor:"",duration:.3}),gsap.to(o,{color:"",duration:.3})),changePrice(r)}e.addEventListener("click",a),e.addEventListener("touchstart",a)}function calendar(){var e,t=document.querySelectorAll(".form-text-field-2"),o=document.getElementById("calendar-modal"),r=document.getElementById("time-selection-modal"),a=document.getElementById("time-selection"),n=document.getElementById("calendar"),i=new FullCalendar.Calendar(n,{initialView:"dayGridMonth",firstDay:1,selectable:!0,headerToolbar:{left:"prev",center:"title",right:"next"},locale:"it",buttonText:{today:"oggi"},dayHeaderFormat:{weekday:"short"},selectAllow:function(e){var t=e.start.getUTCDay();return console.log("Checking if day is selectable:",t),5!==t&&6!==t},events:function(e,t,o){console.log("Fetching events for range: ",e.startStr," to ",e.endStr),fetch("https://us-central1-webflow-project---calltoaction.cloudfunctions.net/getCalendarEvents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeMin:e.startStr,timeMax:e.endStr})}).then((e=>{if(!e.ok)throw console.error("Network response was not ok ",e.statusText),new Error("Network response was not ok "+e.statusText);return e.json()})).then((e=>{console.log("Events fetched from backend: ",e),e.forEach((e=>{e.className="hidden-event"})),t(e)})).catch((e=>{console.error("Error fetching events: ",e),o(e)}))},select:function(info){var e=info.start.getUTCDay();5!==e&&6!==e?(console.log("Date selected: ",info.start),s(info.start)):console.log("Selected day is a weekend, not allowed.")},dateClick:function(info){var e=info.date.getUTCDay();5!==e&&6!==e?(console.log("Date clicked: ",info.date),s(info.date)):console.log("Clicked day is a weekend, not allowed.")},eventOverlap:!1,selectOverlap:function(e){return!e},eventBackgroundColor:"red"});function s(t){var n=t.getUTCDay();if(5!==n&&6!==n){console.log("Opening time selection for date: ",t),a.innerHTML="",r.style.display="block";for(var s=[],c=10;c<=19;c++)s.push({hour:c,minute:0}),s.push({hour:c,minute:30});s.push({hour:20,minute:0}),s.forEach((function(n){var s=new Date(t);if(s.setHours(n.hour,n.minute,0,0),!function(e){for(var t=i.getEvents(),o=0;o<t.length;o++){var r=t[o],a=new Date(r.start),n=new Date(r.end);if(e>=a&&e<n)return!0}return!1}(s)){var c=document.createElement("button");c.innerText=("0"+n.hour).slice(-2)+":"+("0"+n.minute).slice(-2),c.addEventListener("click",(function(){var a=("0"+t.getDate()).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+t.getFullYear()+" "+c.innerText;console.log("Selected Date: ",a),e.value=a,r.style.display="none",o.style.display="none"})),a.appendChild(c)}}))}else console.log("Day is a weekend, not allowed for time selection.")}i.render(),t.forEach((function(t){t.addEventListener("click",(function(){console.log("Input field clicked: ",t),o.style.display="block",i.updateSize(),e=t}))})),document.addEventListener("click",(function(e){o.contains(e.target)||r.contains(e.target)||e.target.classList.contains("form-text-field-2")||(o.style.display="none",r.style.display="none")}))}function contactSelection(){var e=document.querySelectorAll("[data-contact-target]"),t=document.querySelectorAll(".form-component"),contactSelection=document.querySelector(".contact-selection"),o=document.querySelectorAll(".back-selection"),r=document.querySelectorAll(".image-form-cover");e.forEach((function(e){e.addEventListener("click",(function(){var o=e.getAttribute("data-contact-target"),a=document.querySelector('.form-component[data-contact-origin="'+o+'"]'),n=document.querySelector('.image-form-cover[data-contact-target="'+o+'"]');t.forEach((function(e){gsap.to(e,{height:0,duration:.5})})),r.forEach((function(e){gsap.to(e,{opacity:0,duration:.5})})),"selection"!==o&&gsap.to(contactSelection,{height:0,duration:.5,onComplete:function(){contactSelection.style.display="none"}}),a&&gsap.to(a,{height:"auto",duration:.5,delay:.5}),n&&gsap.to(n,{opacity:.5,duration:.5,delay:.5})}))})),o.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".form-component"),o=e.getAttribute("data-contact-target");if(t&&gsap.to(t,{height:0,duration:.5,onComplete:function(){t.style.height="0"}}),r.forEach((function(e){gsap.to(e,{opacity:0,duration:.5})})),"selection"===o){gsap.set(contactSelection,{display:"flex"}),gsap.to(contactSelection,{height:"auto",duration:.5,delay:.5});var a=document.querySelector('.image-form-cover[data-contact-target="0"]');a&&gsap.to(a,{opacity:.5,duration:.5,delay:.5})}}))}))}function serviceWrapper(){gsap.set(".color-cover",{width:"101%"}),document.querySelectorAll(".service-wrapper-container").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 60%",end:"bottom bottom",scrub:!0,toggleActions:"play none none none",onEnter:()=>{let t=gsap.timeline();t.to(e.querySelector(".color-cover"),{width:"auto",duration:.6,ease:"power2.inOut"}),window.innerWidth>992?t.from(e.querySelectorAll(".list"),{opacity:0,y:-200,duration:1,stagger:.1,ease:"back.out(1.7)",onComplete:()=>{e.querySelectorAll(".list").forEach((e=>e.style=""))}},"<"):t.from(e.querySelectorAll(".list"),{delay:.2,opacity:0,x:-100,duration:.6,stagger:.1,ease:"back.out(1.7)",onComplete:()=>{e.querySelectorAll(".list").forEach((e=>e.style=""))}},"<")}})})),ScrollTrigger.refresh()}function servicePageWrapper(){gsap.set(".color-cover",{width:"101%"}),document.querySelectorAll(".service-wrapper-container").forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 60%",end:"bottom bottom",scrub:!0,toggleActions:"play none none none",onEnter:()=>{gsap.to(e.querySelector(".color-cover"),{width:"auto",duration:.6,ease:"power2.inOut"})}})})),ScrollTrigger.refresh()}function transitionHome(){document.querySelectorAll("a:not(.excluded-class)").forEach((e=>{e.addEventListener("click",(function(t){let o=e.getAttribute("href");const r=window.innerWidth<=767?parseInt(e.getAttribute("data-delay"),10):0;if(e.hostname===window.location.hostname&&!o.includes("#")&&"_blank"!==e.getAttribute("target")){t.preventDefault();const e=()=>{gsap.timeline({onComplete:()=>window.location.href=o}).fromTo(".page-wrapper, .navbar, .menu-wrapper",{xPercent:0},{xPercent:100,opacity:0})};r?setTimeout(e,r):e()}}))})),window.onpageshow=function(e){e.persisted?window.location.reload():ScrollTrigger.refresh()}}function transitionPage(){let e=gsap.timeline();document.querySelector(".cover-page")&&e.to(".cover-page",{opacity:1,ease:"power2.out"}),e.to(".page-heading-wrapper",{opacity:1,x:"0rem",ease:"power2.out"}),e.to("#nav",{y:"0rem",ease:"power2.out"}),$("a:not(.excluded-class)").on("click",(function(e){let t=$(this).attr("href");const o=window.innerWidth<=767?parseInt($(this).attr("data-delay"),10):0;if($(this).prop("hostname")===window.location.host&&!t.includes("#")&&"_blank"!==$(this).attr("target"))if(e.preventDefault(),o)setTimeout((()=>{gsap.timeline({onComplete:()=>window.location.href=t}).fromTo(".page-wrapper, #nav, .menu-wrapper",{xPercent:0},{xPercent:100,opacity:0})}),o);else{gsap.timeline({onComplete:()=>window.location.href=t}).fromTo(".page-wrapper, #nav, .menu-wrapper",{xPercent:0},{xPercent:100,opacity:0})}})),window.onpageshow=function(e){e.persisted&&window.location.reload()}}window.onbeforeunload=function(){window.scrollTo(0,0)};const propositoAnimation={initializeSwiper:function(){if(document.querySelector(".related-articles-wrapper")){const e=setInterval((()=>{const t=document.querySelector(".swiper-button-next"),o=document.querySelector(".swiper-button-prev");if(t&&o)try{const t=new Swiper(".related-articles-wrapper",{slidesPerView:"auto",spaceBetween:32,centeredSlides:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},speed:600,effect:"slide"});console.log("Swiper inizializzato correttamente:",t),clearInterval(e)}catch(t){console.error("Errore durante l'inizializzazione di Swiper:",t),clearInterval(e)}}),100)}else console.warn("Nessun elemento trovato per lo slider: .related-articles-wrapper")},categoryLabel:function(){document.querySelectorAll(".category-label").forEach((e=>{gsap.context((()=>{function t(t){gsap.to(e,{duration:.3,paddingBottom:t?"2rem":"0rem",borderTopRightRadius:t?"1rem":"0rem",borderTopLeftRadius:t?"1rem":"0rem",ease:"power1.out"})}e.addEventListener("mouseenter",(()=>t(!0))),e.addEventListener("mouseleave",(()=>t(!1))),e.addEventListener("touchstart",(()=>t(!0))),e.addEventListener("touchend",(()=>t(!1)))}))}))},tagLinkAnimation:function(){document.querySelectorAll(".tag-link").forEach((e=>{gsap.context((()=>{function t(t){gsap.to(e,{duration:.15,rotateZ:t?10:0,borderColor:t?"#f06":"",ease:"back.out(3)"})}e.addEventListener("mouseenter",(()=>t(!0))),e.addEventListener("mouseleave",(()=>t(!1))),e.addEventListener("touchstart",(()=>t(!0))),e.addEventListener("touchend",(()=>t(!1)))}),e)}))},btnReadAnimation:function(){document.querySelectorAll(".btn-read").forEach((e=>{const t=e.querySelector(".read-btn-arrow"),o=e.querySelector(".read-text-btn");let r=gsap.timeline({paused:!0});function a(e){e?r.play():r.reverse()}r.to(t,{duration:.2,marginRight:"2px",ease:"back.out"}),r.to(o,{duration:.3,rotate:8,ease:"back.out"},"-=0.2"),e.addEventListener("mouseenter",(()=>a(!0))),e.addEventListener("mouseleave",(()=>a(!1))),e.addEventListener("touchstart",(()=>a(!0))),e.addEventListener("touchend",(()=>a(!1)))}))},NewsLetterAnimation:function(){ScrollTrigger.create({trigger:".newsletter-section",start:"center center",toggleActions:"play none none reverse",onEnter:()=>{gsap.fromTo(".arrow-proposito-newsletter",{x:"0%"},{x:"-10%",repeat:3,duration:.5,ease:"power1.inOut",yoyo:!0})}})},btnCategoryAnimation:function(){document.querySelectorAll(".btn-category").forEach((e=>{const t=e.querySelector(".read-btn-arrow"),o=e.querySelector(".read-text-btn"),r=e.querySelector(".category-color"),a=getComputedStyle(r).getPropertyValue("--background-first").trim();let n=gsap.timeline({paused:!0});function i(e){e?n.play():n.reverse()}n.to(t,{duration:.2,marginRight:"2px",ease:"back.out"}).to(r,{backgroundImage:`linear-gradient(to right, transparent, ${a})`,duration:.2,ease:"linear"},"<"),n.to(o,{duration:.3,rotate:8,ease:"back.out"},"-=0.2"),e.addEventListener("mouseenter",(()=>i(!0))),e.addEventListener("mouseleave",(()=>i(!1))),e.addEventListener("touchstart",(()=>i(!0))),e.addEventListener("touchend",(()=>i(!1)))}))},thumbnailImageAnimation:function(){document.querySelectorAll(".related-post-category .thumbnail-image").forEach((e=>{let t=gsap.timeline({paused:!0});t.to(e,{borderRadius:"2rem",scale:1.1,duration:.5,ease:"power2.out",transformOrigin:"center center"}),e.addEventListener("mouseenter",(()=>t.play())),e.addEventListener("mouseleave",(()=>t.reverse()))}))},postEntry:function(){const e=document.querySelectorAll(".related-post-category");gsap.set(".related-post-category",{opacity:0,y:"-20%"}),gsap.set(".cta-leggi",{opacity:0,x:"-20rem"}),e.forEach((e=>{ScrollTrigger.create({trigger:e,start:"top 80%",toggleActions:"play none none none",onEnter:()=>{gsap.to(e,{y:"0%",opacity:1,duration:.5,ease:"power1.inOut"}),gsap.to(e.querySelector(".cta-leggi"),{x:"0rem",opacity:1,duration:.3,ease:"power1.inOut"},"-=0.2")}})}))},init:function(){this.initializeSwiper(),this.categoryLabel(),this.tagLinkAnimation(),this.btnReadAnimation(),this.NewsLetterAnimation(),this.btnCategoryAnimation(),window.matchMedia("(min-width: 768px)").matches&&this.thumbnailImageAnimation(),this.postEntry()}};