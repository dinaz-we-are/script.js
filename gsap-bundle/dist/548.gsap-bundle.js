"use strict";(this.webpackChunkGSAPBundle=this.webpackChunkGSAPBundle||[]).push([[548],{548:()=>{function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,r=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw r}}}}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var cookieConfig={mode:"opt-in",cookieMaxAge:180,debugMode:!1,consentMode:!0,categories:{essential:!0,analytics:!1,marketing:!1,personalization:!1,uncategorized:!1}};function gtag(){dataLayer.push(arguments)}document.addEventListener("DOMContentLoaded",(function(){var e=JSON.parse(cookieManager.getCookie("cta"))||{essential:!0,analytics:!1,marketing:!1,personalization:!1};gtag("consent","update",{ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:e.personalization?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",security_storage:e.essential?"granted":"denied",personalization_storage:e.personalization?"granted":"denied"}),(e.analytics||e.marketing)&&activateScripts()})),window.dataLayer=window.dataLayer||[],gtag("consent","default",{ad_storage:"denied",analytics_storage:"denied",functionality_storage:"denied",ad_personalization:"denied",ad_user_data:"denied",security_storage:"denied",personalization_storage:"denied",wait_for_update:500});var cookieManager={setCookie:function(e,n,t){var a="";if(t){var o=new Date;o.setTime(o.getTime()+24*t*60*60*1e3),a="; expires="+o.toUTCString()}document.cookie="".concat(e,"=").concat(n||"").concat(a,"; path=/; SameSite=None; Secure")},getCookie:function(e){var n,t="".concat(e,"="),a=_createForOfIteratorHelper(document.cookie.split("; "));try{for(a.s();!(n=a.n()).done;){var o=n.value;if(0===o.indexOf(t))return o.substring(t.length)}}catch(e){a.e(e)}finally{a.f()}return null},eraseCookie:function(e){document.cookie="".concat(e,"=; Max-Age=-99999999; path=/; SameSite=None; Secure")},clearAllCookies:function(){document.cookie.split("; ").forEach((function(e){var n=e.split("=")[0];document.cookie="".concat(n,"=; Max-Age=-99999999; path=/; SameSite=None; Secure")}))},clearTrackingCookies:function(){var e=window.location.hostname.split(".").slice(-2).join(".");["_ga","_gid","_gat","_gac_","_gtm","_gcl_au"].forEach((function(n){document.cookie="".concat(n,"=; Max-Age=0; path=/; domain=").concat(e,"; SameSite=None; Secure"),document.cookie="".concat(n,"=; Max-Age=0; path=/; SameSite=None; Secure")}))}},resetCookies=function(){cookieManager.clearAllCookies(),cookieManager.clearTrackingCookies(),closeCookiePreferences(),console.log("Tutti i cookie sono stati cancellati e il banner Ã¨ stato chiuso."),location.reload()},resetButton=document.querySelector("[cta='reset']");resetButton&&resetButton.addEventListener("click",resetCookies);var uiManager={showBanner:function(){document.querySelector("#banner-cookie")&&animateBanner()},hideBanner:function(){document.querySelector("#banner-cookie")&&animateBannerClose()},closeBannerWithoutConsent:function(){document.querySelector("#banner-cookie")&&animateBannerClose()},handlePreferences:function(){document.querySelector("#cookie-preferences")&&cookiePreferences()}};cookieManager.getCookie("cta")||uiManager.showBanner();var consentManager={allowAll:function(){gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted",functionality_storage:"granted",ad_personalization:"granted",ad_user_data:"granted",security_storage:"granted",personalization_storage:"granted"}),cookieManager.setCookie("cta",JSON.stringify({essential:!0,analytics:!0,marketing:!0,personalization:!0}),cookieConfig.cookieMaxAge),gtmManager.fireGTMEvent("allCookiesAccepted"),activateScripts(),uiManager.hideBanner(),closeCookiePreferences()},denyAll:function(){gtag("consent","update",{ad_storage:"denied",analytics_storage:"denied",functionality_storage:"denied",ad_personalization:"denied",ad_user_data:"denied",security_storage:"denied",personalization_storage:"denied"}),cookieManager.setCookie("cta",JSON.stringify({essential:!0,analytics:!1,marketing:!1,personalization:!1}),cookieConfig.cookieMaxAge),cookieManager.clearTrackingCookies(),gtmManager.fireGTMEvent("allCookiesDenied"),uiManager.hideBanner(),closeCookiePreferences()},handleFormSubmit:function(e){var n,t,a;e.preventDefault();var o=(null===(n=document.querySelector("#cookie-analytics"))||void 0===n?void 0:n.checked)||!1,r=(null===(t=document.querySelector("#cookie-marketing"))||void 0===t?void 0:t.checked)||!1,i=(null===(a=document.querySelector("#cookie-personalization"))||void 0===a?void 0:a.checked)||!1;gtag("consent","update",{ad_storage:r?"granted":"denied",analytics_storage:o?"granted":"denied",functionality_storage:i?"granted":"denied",ad_personalization:r?"granted":"denied",ad_user_data:r?"granted":"denied",security_storage:"granted",personalization_storage:i?"granted":"denied"});var c={essential:!0,analytics:o,marketing:r,personalization:i};cookieManager.setCookie("cta",JSON.stringify(c),cookieConfig.cookieMaxAge),(o||r)&&activateScripts(),gtmManager.updateConsentMode(c),closeCookiePreferences()}};document.querySelectorAll("[cta='allow']").forEach((function(e){return e.addEventListener("click",consentManager.allowAll)})),document.querySelectorAll("[cta='deny']").forEach((function(e){return e.addEventListener("click",consentManager.denyAll)})),document.querySelectorAll("[cta='open-preferences']").forEach((function(e){e.addEventListener("click",(function(){uiManager.closeBannerWithoutConsent(),uiManager.handlePreferences()}))}));var preferencesForm=document.querySelector("#wf-form-Cookie-Preferences-form");preferencesForm&&preferencesForm.addEventListener("submit",consentManager.handleFormSubmit);var preferencesCloseButton=document.querySelector("#preferences-close");preferencesCloseButton&&preferencesCloseButton.addEventListener("click",closeCookiePreferences);var submitButton=document.querySelector("[cta='submit']");submitButton&&submitButton.addEventListener("click",(function(e){e.preventDefault(),consentManager.handleFormSubmit(e)}));var closeButton=document.querySelector("#banner-close");closeButton&&closeButton.addEventListener("click",uiManager.closeBannerWithoutConsent);var gtmManager={fireGTMEvent:function(e){window.dataLayer&&(window.dataLayer.push({event:e}),cookieConfig.debugMode&&console.log("Evento GTM ".concat(e," inviato.")))},updateConsentMode:function(e){cookieConfig.consentMode&&window.gtag&&(window.gtag("consent","update",{ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:e.personalization?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",security_storage:e.essential?"granted":"denied",personalization_storage:e.personalization?"granted":"denied"}),cookieConfig.debugMode&&console.log("Google Consent Mode aggiornato:",e))}};function activateScripts(){document.querySelectorAll('script[cta="activate"]').forEach((function(script){if(script.removeAttribute("type"),script.src){var e=document.createElement("script");e.async=!0,e.src=script.src,document.head.appendChild(e)}else eval(script.innerText)}))}function animateBanner(){var e=document.getElementById("banner-cookie");e&&gsap.fromTo(e,{y:"10rem",display:"none"},{y:"0rem",display:"flex",duration:1,delay:1.4,ease:"power2.inOut"})}function animateBannerClose(){var e=document.querySelector("#banner-cookie");e&&gsap.to(e,{y:"10rem",duration:.5,ease:"power2.inOut",onComplete:function(){e.style.display="none"}})}function cookiePreferences(){var e=document.querySelector("#cookie-preferences");e&&(e.style.display="flex",gsap.to(e,{opacity:1,duration:.5,ease:"power2.inOut"}))}function closeCookiePreferences(){var e=document.querySelector("#cookie-preferences");e&&gsap.to(e,{opacity:0,duration:.5,ease:"power2.inOut",onComplete:function(){e.style.display="none"}})}document.addEventListener("DOMContentLoaded",(function(){var e=function(e,n,t,a,o){var r=document.querySelector(e),i=document.querySelector("[cta-checkbox='".concat(n,"']")),c=null==i?void 0:i.querySelector("[cta-toggle='".concat(t,"']"));r&&i&&c?(r.checked=o,o?(gsap.to(c,{x:20,duration:.3,ease:"power2.inOut"}),gsap.to(i,{backgroundColor:"#ff006e",duration:.3,ease:"power2.inOut"})):(gsap.to(c,{x:0,duration:.3,ease:"power2.inOut"}),gsap.to(i,{backgroundColor:"",duration:.3,ease:"power2.inOut"})),r.addEventListener("click",(function(){r.checked?(gsap.to(c,{x:20,duration:.3,ease:"power2.inOut"}),gsap.to(i,{backgroundColor:"#ff006e",duration:.3,ease:"power2.inOut"})):(gsap.to(c,{x:0,duration:.3,ease:"power2.inOut"}),gsap.to(i,{backgroundColor:"",duration:.3,ease:"power2.inOut"}));var e=JSON.parse(cookieManager.getCookie("cta"))||{essential:!0,analytics:!1,marketing:!1,personalization:!1};e[a]=r.checked,cookieManager.setCookie("cta",JSON.stringify(e),cookieConfig.cookieMaxAge),gtag("consent","update",{ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:e.personalization?"granted":"denied",ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",security_storage:e.essential?"granted":"denied",personalization_storage:e.personalization?"granted":"denied"})}))):console.warn("Elemento non trovato per l'animazione del checkbox: ".concat(a))},n=function(n){e("#cookie-marketing","marketing","marketing","marketing",n),e("#cookie-analytics","analytics","analytics","analytics",n),e("#cookie-personalization","personalization","personalization","personalization",n);var t={essential:!0,analytics:n,marketing:n,personalization:n};cookieManager.setCookie("cta",JSON.stringify(t),cookieConfig.cookieMaxAge)},t=document.querySelectorAll("[cta='allow']");t.length>0&&t.forEach((function(e){e.addEventListener("click",(function(){n(!0),uiManager.hideBanner()}))}));var a=document.querySelectorAll("[cta='deny']");a.length>0&&a.forEach((function(e){e.addEventListener("click",(function(){n(!1),uiManager.hideBanner()}))}));var o=JSON.parse(cookieManager.getCookie("cta"))||{essential:!0,analytics:!1,marketing:!1,personalization:!1};e("#cookie-marketing","marketing","marketing","marketing",o.marketing),e("#cookie-analytics","analytics","analytics","analytics",o.analytics),e("#cookie-personalization","personalization","personalization","personalization",o.personalization)}))}}]);